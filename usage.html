
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Usage &#8212; OWSLib 0.26.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Examples" href="examples.html" />
    <link rel="prev" title="Installation" href="installation.html" />
 

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-32866201-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


  </head><body>


    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OWSLib 0.26.0 documentation</a> &#187;</li> 
      </ul>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="wms">
<h2>WMS<a class="headerlink" href="#wms" title="Permalink to this headline">¶</a></h2>
<p>Find out what a WMS has to offer. Service metadata:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.wms</span> <span class="kn">import</span> <span class="n">WebMapService</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span> <span class="o">=</span> <span class="n">WebMapService</span><span class="p">(</span><span class="s1">&#39;http://wms.jpl.nasa.gov/wms.cgi&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;1.1.1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;OGC:WMS&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">version</span>
<span class="go">&#39;1.1.1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;JPL Global Imagery Service&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">abstract</span>
<span class="go">&#39;WMS Server maintained by JPL, worldwide satellite imagery.&#39;</span>
</pre></div>
</div>
<p>Available layers:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">wms</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>
<span class="go">[&#39;global_mosaic&#39;, &#39;global_mosaic_base&#39;, &#39;us_landsat_wgs84&#39;, &#39;srtm_mag&#39;, &#39;daily_terra_721&#39;, &#39;daily_aqua_721&#39;, &#39;daily_terra_ndvi&#39;, &#39;daily_aqua_ndvi&#39;, &#39;daily_terra&#39;, &#39;daily_aqua&#39;, &#39;BMNG&#39;, &#39;modis&#39;, &#39;huemapped_srtm&#39;, &#39;srtmplus&#39;, &#39;worldwind_dem&#39;, &#39;us_ned&#39;, &#39;us_elevation&#39;, &#39;us_colordem&#39;]</span>
</pre></div>
</div>
<p>Details of a layer:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="p">[</span><span class="s1">&#39;global_mosaic&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;WMS Global Mosaic, pan sharpened&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="p">[</span><span class="s1">&#39;global_mosaic&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">queryable</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="p">[</span><span class="s1">&#39;global_mosaic&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">opaque</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="p">[</span><span class="s1">&#39;global_mosaic&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">boundingBox</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="p">[</span><span class="s1">&#39;global_mosaic&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">boundingBoxWGS84</span>
<span class="go">(-180.0, -60.0, 180.0, 84.0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="p">[</span><span class="s1">&#39;global_mosaic&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">crsOptions</span>
<span class="go">[&#39;EPSG:4326&#39;, &#39;AUTO:42003&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="p">[</span><span class="s1">&#39;global_mosaic&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">styles</span>
<span class="go">{&#39;pseudo_bright&#39;: {&#39;title&#39;: &#39;Pseudo-color image (Uses IR and Visual bands, 542 mapping), gamma 1.5&#39;}, &#39;pseudo&#39;: {&#39;title&#39;: &#39;(default) Pseudo-color image, pan sharpened (Uses IR and Visual bands, 542 mapping), gamma 1.5&#39;}, &#39;visual&#39;: {&#39;title&#39;: &#39;Real-color image, pan sharpened (Uses the visual bands, 321 mapping), gamma 1.5&#39;}, &#39;pseudo_low&#39;: {&#39;title&#39;: &#39;Pseudo-color image, pan sharpened (Uses IR and Visual bands, 542 mapping)&#39;}, &#39;visual_low&#39;: {&#39;title&#39;: &#39;Real-color image, pan sharpened (Uses the visual bands, 321 mapping)&#39;}, &#39;visual_bright&#39;: {&#39;title&#39;: &#39;Real-color image (Uses the visual bands, 321 mapping), gamma 1.5&#39;}}</span>
</pre></div>
</div>
<p>Available methods, their URLs, and available formats:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">wms</span><span class="o">.</span><span class="n">operations</span><span class="p">]</span>
<span class="go">[&#39;GetCapabilities&#39;, &#39;GetMap&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="o">.</span><span class="n">getOperationByName</span><span class="p">(</span><span class="s1">&#39;GetMap&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">methods</span>
<span class="go">{&#39;Get&#39;: {&#39;url&#39;: &#39;http://wms.jpl.nasa.gov/wms.cgi?&#39;}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wms</span><span class="o">.</span><span class="n">getOperationByName</span><span class="p">(</span><span class="s1">&#39;GetMap&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">formatOptions</span>
<span class="go">[&#39;image/jpeg&#39;, &#39;image/png&#39;, &#39;image/geotiff&#39;, &#39;image/tiff&#39;]</span>
</pre></div>
</div>
<p>That’s everything needed to make a request for imagery:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">img</span> <span class="o">=</span> <span class="n">wms</span><span class="o">.</span><span class="n">getmap</span><span class="p">(</span>   <span class="n">layers</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;global_mosaic&#39;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="n">styles</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;visual_bright&#39;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="n">srs</span><span class="o">=</span><span class="s1">&#39;EPSG:4326&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">bbox</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">112</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="o">-</span><span class="mi">106</span><span class="p">,</span> <span class="mi">41</span><span class="p">),</span>
<span class="gp">... </span>                    <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">250</span><span class="p">),</span>
<span class="gp">... </span>                    <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;image/jpeg&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">transparent</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span>                    <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;jpl_mosaic_visb.jpg&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Result:</p>
<a class="reference internal image-reference" href="_images/jpl_mosaic_visb.jpg"><img alt="WMS GetMap generated by OWSLib" src="_images/jpl_mosaic_visb.jpg" style="width: 300px; height: 250px;" /></a>
</div>
<div class="section" id="wfs">
<h2>WFS<a class="headerlink" href="#wfs" title="Permalink to this headline">¶</a></h2>
<p>Connect to a WFS and inspect its capabilities.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.wfs</span> <span class="kn">import</span> <span class="n">WebFeatureService</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wfs11</span> <span class="o">=</span> <span class="n">WebFeatureService</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://geoserv.weichand.de:8080/geoserver/wfs&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;1.1.0&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wfs11</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;INSPIRE WFS 2.0 DemoServer Verwaltungsgrenzen Bayern</span>

<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">operation</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">operation</span> <span class="ow">in</span> <span class="n">wfs11</span><span class="o">.</span><span class="n">operations</span><span class="p">]</span>
<span class="go">[&#39;GetCapabilities&#39;, &#39;DescribeFeatureType&#39;, &#39;GetFeature&#39;, &#39;GetGmlObject&#39;]</span>
</pre></div>
</div>
<p>List FeatureTypes</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">wfs11</span><span class="o">.</span><span class="n">contents</span><span class="p">)</span>
<span class="go">[&#39;bvv:vg_ex&#39;, &#39;bvv:bayern_ex&#39;, &#39;bvv:lkr_ex&#39;, &#39;bvv:regbez_ex&#39;, &#39;bvv:gmd_ex&#39;]</span>
</pre></div>
</div>
<p>Download GML using <code class="docutils literal notranslate"><span class="pre">typename</span></code>, <code class="docutils literal notranslate"><span class="pre">bbox</span></code> and <code class="docutils literal notranslate"><span class="pre">srsname</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># OWSLib will switch the axis order from EN to NE automatically if designated by EPSG-Registry</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">wfs11</span><span class="o">.</span><span class="n">getfeature</span><span class="p">(</span><span class="n">typename</span><span class="o">=</span><span class="s1">&#39;bvv:gmd_ex&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="p">(</span><span class="mi">4500000</span><span class="p">,</span><span class="mi">5500000</span><span class="p">,</span><span class="mi">4500500</span><span class="p">,</span><span class="mi">5500500</span><span class="p">),</span> <span class="n">srsname</span><span class="o">=</span><span class="s1">&#39;urn:x-ogc:def:crs:EPSG:31468&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Return a FeatureType’s schema via <code class="docutils literal notranslate"><span class="pre">DescribeFeatureType</span></code>. The dictionary returned is
compatible with a <a class="reference external" href="https://fiona.readthedocs.io/en/latest/fiona.html#fiona.collection.Collection.schema">Fiona schema object</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wfs11</span><span class="o">.</span><span class="n">get_schema</span><span class="p">(</span><span class="s1">&#39;bvv:vg_ex&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">{</span><span class="s1">&#39;properties&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;land&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;modellart&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;objart&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;objart_txt&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;objid&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;hdu_x&#39;</span><span class="p">:</span> <span class="s1">&#39;short&#39;</span><span class="p">,</span> <span class="s1">&#39;beginn&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;ende&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;adm&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;avg&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;bez_gem&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;bez_krs&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;bez_lan&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;bez_rbz&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">,</span> <span class="s1">&#39;sch&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">},</span> <span class="s1">&#39;geometry&#39;</span><span class="p">:</span> <span class="s1">&#39;3D MultiPolygon&#39;</span><span class="p">,</span> <span class="s1">&#39;geometry_column&#39;</span><span class="p">:</span> <span class="s1">&#39;geom&#39;</span><span class="p">}</span>
</pre></div>
</div>
<p>Download GML using <code class="docutils literal notranslate"><span class="pre">typename</span></code> and <code class="docutils literal notranslate"><span class="pre">filter</span></code>. OWSLib currently only
support filter building for WFS 1.1 (FE.1.1).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.fes</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.etree</span> <span class="kn">import</span> <span class="n">etree</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.wfs</span> <span class="kn">import</span> <span class="n">WebFeatureService</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wfs11</span> <span class="o">=</span> <span class="n">WebFeatureService</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://geoserv.weichand.de:8080/geoserver/wfs&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;1.1.0&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">filter</span> <span class="o">=</span> <span class="n">PropertyIsLike</span><span class="p">(</span><span class="n">propertyname</span><span class="o">=</span><span class="s1">&#39;bez_gem&#39;</span><span class="p">,</span> <span class="n">literal</span><span class="o">=</span><span class="s1">&#39;Ingolstadt&#39;</span><span class="p">,</span> <span class="n">wildCard</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">filterxml</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">tostring</span><span class="p">(</span><span class="nb">filter</span><span class="o">.</span><span class="n">toXML</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">wfs11</span><span class="o">.</span><span class="n">getfeature</span><span class="p">(</span><span class="n">typename</span><span class="o">=</span><span class="s1">&#39;bvv:gmd_ex&#39;</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">filterxml</span><span class="p">)</span>
</pre></div>
</div>
<p>Save response to a file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/tmp/data.gml&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="s1">&#39;UTF-8&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Download GML using <code class="docutils literal notranslate"><span class="pre">StoredQueries</span></code>(only available for WFS 2.0
services)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.wfs</span> <span class="kn">import</span> <span class="n">WebFeatureService</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wfs20</span> <span class="o">=</span> <span class="n">WebFeatureService</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;http://geoserv.weichand.de:8080/geoserver/wfs&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;2.0.0&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># List StoredQueries</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">storedquery</span><span class="o">.</span><span class="n">id</span> <span class="k">for</span> <span class="n">storedquery</span> <span class="ow">in</span> <span class="n">wfs20</span><span class="o">.</span><span class="n">storedqueries</span><span class="p">]</span>
<span class="go">[&#39;bboxQuery&#39;, &#39;urn:ogc:def:query:OGC-WFS::GetFeatureById&#39;, &#39;GemeindeByGemeindeschluesselEpsg31468&#39;, &#39;DWithinQuery&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># List Parameters for StoredQuery[1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parameter</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">parameter</span> <span class="ow">in</span> <span class="n">wfs20</span><span class="o">.</span><span class="n">storedqueries</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">parameters</span><span class="p">]</span>
<span class="go">[&#39;ID&#39;]</span>


<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">wfs20</span><span class="o">.</span><span class="n">getfeature</span><span class="p">(</span><span class="n">storedQueryID</span><span class="o">=</span><span class="s1">&#39;urn:ogc:def:query:OGC-WFS::GetFeatureById&#39;</span><span class="p">,</span> <span class="n">storedQueryParams</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ID&#39;</span><span class="p">:</span><span class="s1">&#39;gmd_ex.1&#39;</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="ogc-api">
<h2>OGC API<a class="headerlink" href="#ogc-api" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#ogc-api">OGC API</a> standards are a clean break from the traditional OGC service architecture
using current design patterns (RESTful, JSON, OpenAPI).  As such, OWSLib the code follows
the same pattern.</p>
<div class="section" id="ogc-api-features-1-0">
<h3>OGC API - Features 1.0<a class="headerlink" href="#ogc-api-features-1-0" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.ogcapi.features</span> <span class="kn">import</span> <span class="n">Features</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">Features</span><span class="p">(</span><span class="s1">&#39;https://demo.pygeoapi.io/master&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="o">.</span><span class="n">url</span>
<span class="go">&#39;https://demo.pygeoapi.io/master&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conformance</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">conformance</span><span class="p">()</span>
<span class="go">{u&#39;conformsTo&#39;: [u&#39;http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/core&#39;, u&#39;http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/oas30&#39;, u&#39;http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/html&#39;, u&#39;http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/geojson&#39;]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">api</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">api</span><span class="p">()</span>  <span class="c1"># OpenAPI document/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collections</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collections</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">collections</span><span class="p">[</span><span class="s1">&#39;collections&#39;</span><span class="p">])</span>
<span class="go">13</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">feature_collections</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">feature_collections</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">feature_collections</span><span class="p">)</span>
<span class="go">13</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lakes</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;lakes&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lakes</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
<span class="go">&#39;lakes&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lakes</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
<span class="go">&#39;Large Lakes&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lakes</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>
<span class="go">&#39;lakes of the world, public domain&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lakes_queryables</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection_queryables</span><span class="p">(</span><span class="s1">&#39;lakes&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">lakes_queryables</span><span class="p">[</span><span class="s1">&#39;queryables&#39;</span><span class="p">])</span>
<span class="go">6</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lakes_query</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection_items</span><span class="p">(</span><span class="s1">&#39;lakes&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lakes_query</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;properties&#39;</span><span class="p">]</span>
<span class="go">{u&#39;scalerank&#39;: 0, u&#39;name_alt&#39;: None, u&#39;admin&#39;: None, u&#39;featureclass&#39;: u&#39;Lake&#39;, u&#39;id&#39;: 0, u&#39;name&#39;: u&#39;Lake Baikal&#39;}</span>
</pre></div>
</div>
</div>
<div class="section" id="ogc-api-coverages-1-0">
<h3>OGC API - Coverages 1.0<a class="headerlink" href="#ogc-api-coverages-1-0" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.ogcapi.coverages</span> <span class="kn">import</span> <span class="n">Coverages</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">Coverages</span><span class="p">(</span><span class="s1">&#39;https://dev.api.weather.gc.ca/coverages-demo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="o">.</span><span class="n">url</span>
<span class="go">&#39;https://dev.api.weather.gc.ca/coverages-demo/&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">api</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">api</span><span class="p">()</span>  <span class="c1"># OpenAPI document</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collections</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collections</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">collections</span><span class="p">[</span><span class="s1">&#39;collections&#39;</span><span class="p">])</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coverages</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">coverages</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">coverages</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gdps</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;gdps-temperature&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gdps</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
<span class="go">&#39;gdps-temperature&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gdps</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
<span class="go">Global Deterministic Prediction System sample&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gdps</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>
<span class="go">&#39;Global Deterministic Prediction System sample&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">domainset</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">coverage_domainset</span><span class="p">(</span><span class="s1">&#39;gdps-temperature&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">domainset</span><span class="p">[</span><span class="s1">&#39;generalGrid&#39;</span><span class="p">][</span><span class="s1">&#39;axisLabels&#39;</span><span class="p">]</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">domainset</span><span class="p">[</span><span class="s1">&#39;generalGrid&#39;</span><span class="p">][</span><span class="s1">&#39;gridLimits&#39;</span><span class="p">][</span><span class="s1">&#39;axisLabels&#39;</span><span class="p">]</span>
<span class="go">[&#39;i&#39;, &#39;j&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rangetype</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">coverage_rangetype</span><span class="p">(</span><span class="s1">&#39;gdps-temperature&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">rangetype</span><span class="p">[</span><span class="s1">&#39;field&#39;</span><span class="p">])</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rangetype</span><span class="p">[</span><span class="s1">&#39;field&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;definition&#39;</span><span class="p">]</span>
<span class="go">&#39;float64&#39;</span>
<span class="go">&gt;&gt; gdps_coverage_query = w.coverage(&#39;gdps-temperature&#39;, range_subset=[1])</span>
</pre></div>
</div>
</div>
<div class="section" id="ogc-api-records-1-0">
<h3>OGC API - Records 1.0<a class="headerlink" href="#ogc-api-records-1-0" title="Permalink to this headline">¶</a></h3>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.ogcapi.records</span> <span class="kn">import</span> <span class="n">Records</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">Records</span><span class="p">(</span><span class="s1">&#39;https://example.org/records-api&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span><span class="o">.</span><span class="n">url</span>
<span class="go">&#39;https://example.org/records-api&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conformance</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">conformance</span><span class="p">()</span>
<span class="go">{&#39;conformsTo&#39;: [u&#39;http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/core&#39;, u&#39;http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/oas30&#39;, u&#39;http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/html&#39;, u&#39;http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/geojson&#39;, u&#39;http://www.opengis.net/spec/ogcapi-records-1/1.0/req/core&#39;, u&#39;http://www.opengis.net/spec/ogcapi-records/1.0/req/oas30&#39;, u&#39;http://www.opengis.net/spec/ogcapi-records-1/1.0/req/json&#39;, u&#39;http://www.opengis.net/spec/ogcapi-records-1/1.0/req/html&#39;]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">api</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">api</span><span class="p">()</span>  <span class="c1"># OpenAPI document</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collections</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collections</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">collections</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">records</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">records</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">records</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection</span><span class="p">(</span><span class="s1">&#39;my-catalogue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue</span><span class="p">[</span><span class="s1">&#39;id&#39;</span><span class="p">]</span>
<span class="go">&#39;my-catalogue&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
<span class="go">&#39;My catalogue&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>
<span class="go">&#39;My catalogue&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue_queryables</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection_queryables</span><span class="p">(</span><span class="s1">&#39;my-catalogue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">my_catalogue_queryables</span><span class="p">)</span>
<span class="go">8</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue_query</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection_items</span><span class="p">(</span><span class="s1">&#39;my-catalogue&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue_query</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;properties&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[u&#39;title&#39;, u&#39;abstract&#39;, u&#39;keywords&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue_query</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
<span class="go">u&#39;Roadrunner ambush locations&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue_query2</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection_items</span><span class="p">(</span><span class="s1">&#39;my-catalogue&#39;</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="s1">&#39;birds&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msc_wis_dcpc_query2</span><span class="p">[</span><span class="s1">&#39;numberMatched&#39;</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">msc_wis_dcpc_query2</span><span class="p">[</span><span class="s1">&#39;numberReturned&#39;</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue_cql_text_query</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection_items</span><span class="p">(</span><span class="s1">&#39;my-catalogue&#39;</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="s2">&quot;title LIKE &#39;Roadrunner%&#39;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue_cql_text_query</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
<span class="go">u&#39;Roadrunner ambush locations&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue_cql_json_query</span> <span class="o">=</span> <span class="n">w</span><span class="o">.</span><span class="n">collection_items</span><span class="p">(</span><span class="s1">&#39;my-catalogue&#39;</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">cql</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;eq&#39;</span><span class="p">:</span> <span class="p">[{</span> <span class="s1">&#39;property&#39;</span><span class="p">:</span> <span class="s1">&#39;title&#39;</span> <span class="p">},</span> <span class="s1">&#39;Roadrunner ambush locations&#39;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_catalogue_cql_json_query</span><span class="p">[</span><span class="s1">&#39;features&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;properties&#39;</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
<span class="go">u&#39;Roadrunner ambush locations&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="wcs">
<h2>WCS<a class="headerlink" href="#wcs" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Import OWSLib in Python once installed</span>
<span class="gp">... </span><span class="kn">from</span> <span class="nn">owslib.wcs</span> <span class="kn">import</span> <span class="n">WebCoverageService</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Create coverage object</span>
<span class="gp">... </span><span class="n">my_wcs</span> <span class="o">=</span> <span class="n">WebCoverageService</span><span class="p">(</span><span class="s1">&#39;http://ows.rasdaman.org/rasdaman/ows&#39;</span><span class="p">,</span>
<span class="gp">... </span>                            <span class="n">version</span><span class="o">=</span><span class="s1">&#39;2.0.1&#39;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get list of coverages</span>
<span class="gp">... </span><span class="nb">print</span> <span class="n">my_wcs</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[&#39;RadianceColor&#39;, &#39;test_irr_cube_2&#39;, &#39;test_mean_summer_airtemp&#39;, &#39;test_double_1d&#39;, &#39;INSPIRE_EL&#39;, &#39;AverageChlorophyllScaled&#39;, &#39;INSPIRE_OI_RGB&#39;, &#39;Temperature4D&#39;, &#39;INSPIRE_OI_IR&#39;, &#39;visible_human&#39;, &#39;INSPIRE_WS_LC&#39;, &#39;meris_lai&#39;, &#39;climate_earth&#39;, &#39;mean_summer_airtemp&#39;, &#39;multiband&#39;, &#39;ls8_coastal_aerosol&#39;, &#39;NN3_3&#39;, &#39;NN3_2&#39;, &#39;NN3_1&#39;, &#39;NN3_4&#39;, &#39;AvgTemperatureColorScaled&#39;, &#39;AverageChloroColorScaled&#39;, &#39;lena&#39;, &#39;Germany_DTM&#39;, &#39;climate_cloud&#39;, &#39;FiLCCoverageBit&#39;, &#39;AverageChloroColor&#39;, &#39;LandsatMultiBand&#39;, &#39;RadianceColorScaled&#39;, &#39;AvgLandTemp&#39;, &#39;NIR&#39;, &#39;BlueMarbleCov&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get geo-bounding boxes and native CRS</span>
<span class="gp">... </span><span class="n">my_wcs</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="s1">&#39;AverageChlorophyllScaled&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">boundingboxes</span>
<span class="go">[{&#39;nativeSrs&#39;: &#39;http://ows.rasdaman.org/def/crs-compound?1=http://ows.rasdaman.org/def/crs/EPSG/0/4326&amp;2=http://ows.rasdaman.org/def/crs/OGC/0/UnixTime&#39;, &#39;bbox&#39;: (-90.0, -180.0, 90.0, 180.0)}]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get axis labels</span>
<span class="gp">... </span><span class="n">my_wcs</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="s1">&#39;AverageChlorophyllScaled&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">axislabels</span>
<span class="go">[&#39;Lat&#39;, &#39;Long&#39;, &#39;unix&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get dimension</span>
<span class="gp">... </span><span class="n">my_wcs</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="s1">&#39;AverageChlorophyllScaled&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">dimension</span>
<span class="go">3</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get grid lower and upper bounds</span>
<span class="gp">... </span><span class="n">my_wcs</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="s1">&#39;AverageChlorophyllScaled&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">lowlimits</span>
<span class="go">[&#39;0&#39;, &#39;0&#39;, &#39;0&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">my_wcs</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="s1">&#39;AverageChlorophyllScaled&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">highlimits</span>
<span class="go">[&#39;119&#39;, &#39;239&#39;, &#39;5&#39;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get offset vectors for geo axes</span>
<span class="gp">... </span><span class="n">my_wcs</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="s1">&#39;AverageChlorophyllScaled&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="o">.</span><span class="n">offsetvectors</span>
<span class="go">[[&#39;-1.5&#39;, &#39;0&#39;, &#39;0&#39;], [&#39;0&#39;, &#39;1.5&#39;, &#39;0&#39;], [&#39;0&#39;, &#39;0&#39;, &#39;1&#39;]]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># For coverage with time axis get the date time values</span>
<span class="gp">... </span><span class="n">my_wcs</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="s1">&#39;AverageChlorophyllScaled&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">timepositions</span>
<span class="go">[datetime.datetime(2015, 1, 1, 0, 0), datetime.datetime(2015, 2, 1, 0, 0), datetime.datetime(2015, 3, 1, 0, 0), datetime.datetime(2015, 4, 1, 0, 0), datetime.datetime(2015, 5, 1, 0, 0), datetime.datetime(2015, 7, 1, 0, 0)]</span>
</pre></div>
</div>
</div>
<div class="section" id="csw">
<h2>CSW<a class="headerlink" href="#csw" title="Permalink to this headline">¶</a></h2>
<p>Connect to a CSW, and inspect its properties:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.csw</span> <span class="kn">import</span> <span class="n">CatalogueServiceWeb</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span> <span class="o">=</span> <span class="n">CatalogueServiceWeb</span><span class="p">(</span><span class="s1">&#39;http://geodiscover.cgdi.ca/wes/serviceManagerCSW/csw&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;CSW&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">op</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">op</span> <span class="ow">in</span> <span class="n">csw</span><span class="o">.</span><span class="n">operations</span><span class="p">]</span>
<span class="go">[&#39;GetCapabilities&#39;, &#39;GetRecords&#39;, &#39;GetRecordById&#39;, &#39;DescribeRecord&#39;, &#39;GetDomain&#39;]</span>
</pre></div>
</div>
<p>Get supported resultType’s:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">getdomain</span><span class="p">(</span><span class="s1">&#39;GetRecords.resultType&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">results</span>
<span class="go">{&#39;values&#39;: [&#39;results&#39;, &#39;validate&#39;, &#39;hits&#39;], &#39;parameter&#39;: &#39;GetRecords.resultType&#39;, &#39;type&#39;: &#39;csw:DomainValuesType&#39;}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Search for bird data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.fes</span> <span class="kn">import</span> <span class="n">PropertyIsEqualTo</span><span class="p">,</span> <span class="n">PropertyIsLike</span><span class="p">,</span> <span class="n">BBox</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">birds_query</span> <span class="o">=</span> <span class="n">PropertyIsEqualTo</span><span class="p">(</span><span class="s1">&#39;csw:AnyText&#39;</span><span class="p">,</span> <span class="s1">&#39;birds&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">getrecords2</span><span class="p">(</span><span class="n">constraints</span><span class="o">=</span><span class="p">[</span><span class="n">birds_query</span><span class="p">],</span> <span class="n">maxrecords</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">results</span>
<span class="go">{&#39;matches&#39;: 101, &#39;nextrecord&#39;: 21, &#39;returned&#39;: 20}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">csw</span><span class="o">.</span><span class="n">records</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">csw</span><span class="o">.</span><span class="n">records</span><span class="p">[</span><span class="n">rec</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">ALLSPECIES</span>
<span class="go">NatureServe Canada References</span>
<span class="go">Bird Studies Canada - BirdMap WMS</span>
<span class="go">Parks Canada Geomatics Metadata Repository</span>
<span class="go">Bird Studies Canada - BirdMap WFS</span>
<span class="go">eBird Canada - Survey Locations</span>
<span class="go">WHC CitizenScience WMS</span>
<span class="go">Project FeederWatch - Survey Locations</span>
<span class="go">North American Bird Banding and Encounter Database</span>
<span class="go">Wildlife Habitat Canada CitizenScience WFS</span>
<span class="go">Parks Canada Geomatics Metadata Repository</span>
<span class="go">Parks Canada Geomatics Metadata Repository</span>
<span class="go">Wildlife Habitat Canada CitizenScience WMS</span>
<span class="go">Canadian IBA Polygon layer</span>
<span class="go">Land</span>
<span class="go">Wildlife Habitat Canada CitizenScience WMS</span>
<span class="go">WATER</span>
<span class="go">Parks Canada Geomatics Metadata Repository</span>
<span class="go">Breeding Bird Survey</span>
<span class="go">SCALE</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Search for bird data in Canada:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bbox_query</span> <span class="o">=</span> <span class="n">BBox</span><span class="p">([</span><span class="o">-</span><span class="mi">141</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="o">-</span><span class="mi">52</span><span class="p">,</span><span class="mi">84</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">getrecords2</span><span class="p">(</span><span class="n">constraints</span><span class="o">=</span><span class="p">[</span><span class="n">birds_query</span><span class="p">,</span> <span class="n">bbox_query</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">results</span>
<span class="go">{&#39;matches&#39;: 3, &#39;nextrecord&#39;: 0, &#39;returned&#39;: 3}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Search for keywords like ‘birds’ or ‘fowl’</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">birds_query_like</span> <span class="o">=</span> <span class="n">PropertyIsLike</span><span class="p">(</span><span class="s1">&#39;dc:subject&#39;</span><span class="p">,</span> <span class="s1">&#39;%birds%&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fowl_query_like</span> <span class="o">=</span> <span class="n">PropertyIsLike</span><span class="p">(</span><span class="s1">&#39;dc:subject&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">%f</span><span class="s1">owl%&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">getrecords2</span><span class="p">(</span><span class="n">constraints</span><span class="o">=</span><span class="p">[</span><span class="n">birds_query_like</span><span class="p">,</span> <span class="n">fowl_query_like</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">results</span>
<span class="go">{&#39;matches&#39;: 107, &#39;nextrecord&#39;: 11, &#39;returned&#39;: 10}</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Search for a specific record:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">getrecordbyid</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;9250AA67-F3AC-6C12-0CB9-0662231AA181&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">records</span><span class="p">[</span><span class="s1">&#39;9250AA67-F3AC-6C12-0CB9-0662231AA181&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;ALLSPECIES&#39;</span>
</pre></div>
</div>
<p>Search with a CQL query</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">getrecords</span><span class="p">(</span><span class="n">cql</span><span class="o">=</span><span class="s1">&#39;csw:AnyText like &quot;%birds%&quot;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Transaction: insert</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span><span class="n">ttype</span><span class="o">=</span><span class="s1">&#39;insert&#39;</span><span class="p">,</span> <span class="n">typename</span><span class="o">=</span><span class="s1">&#39;gmd:MD_Metadata&#39;</span><span class="p">,</span> <span class="n">record</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s2">&quot;file.xml&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</pre></div>
</div>
<p>Transaction: update</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># update ALL records</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span><span class="n">ttype</span><span class="o">=</span><span class="s1">&#39;update&#39;</span><span class="p">,</span> <span class="n">typename</span><span class="o">=</span><span class="s1">&#39;csw:Record&#39;</span><span class="p">,</span> <span class="n">propertyname</span><span class="o">=</span><span class="s1">&#39;dc:title&#39;</span><span class="p">,</span> <span class="n">propertyvalue</span><span class="o">=</span><span class="s1">&#39;New Title&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># update records satisfying keywords filter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span><span class="n">ttype</span><span class="o">=</span><span class="s1">&#39;update&#39;</span><span class="p">,</span> <span class="n">typename</span><span class="o">=</span><span class="s1">&#39;csw:Record&#39;</span><span class="p">,</span> <span class="n">propertyname</span><span class="o">=</span><span class="s1">&#39;dc:title&#39;</span><span class="p">,</span> <span class="n">propertyvalue</span><span class="o">=</span><span class="s1">&#39;New Title&#39;</span><span class="p">,</span> <span class="n">keywords</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;birds&#39;</span><span class="p">,</span><span class="s1">&#39;fowl&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># update records satisfying BBOX filter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span><span class="n">ttype</span><span class="o">=</span><span class="s1">&#39;update&#39;</span><span class="p">,</span> <span class="n">typename</span><span class="o">=</span><span class="s1">&#39;csw:Record&#39;</span><span class="p">,</span> <span class="n">propertyname</span><span class="o">=</span><span class="s1">&#39;dc:title&#39;</span><span class="p">,</span> <span class="n">propertyvalue</span><span class="o">=</span><span class="s1">&#39;New Title&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">141</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="o">-</span><span class="mi">52</span><span class="p">,</span><span class="mi">84</span><span class="p">])</span>
</pre></div>
</div>
<p>Transaction: delete</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># delete ALL records</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span><span class="n">ttype</span><span class="o">=</span><span class="s1">&#39;delete&#39;</span><span class="p">,</span> <span class="n">typename</span><span class="o">=</span><span class="s1">&#39;gmd:MD_Metadata&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># delete records satisfying keywords filter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span><span class="n">ttype</span><span class="o">=</span><span class="s1">&#39;delete&#39;</span><span class="p">,</span> <span class="n">typename</span><span class="o">=</span><span class="s1">&#39;gmd:MD_Metadata&#39;</span><span class="p">,</span> <span class="n">keywords</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;birds&#39;</span><span class="p">,</span><span class="s1">&#39;fowl&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># delete records satisfying BBOX filter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">transaction</span><span class="p">(</span><span class="n">ttype</span><span class="o">=</span><span class="s1">&#39;delete&#39;</span><span class="p">,</span> <span class="n">typename</span><span class="o">=</span><span class="s1">&#39;gmd:MD_Metadata&#39;</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">141</span><span class="p">,</span><span class="mi">42</span><span class="p">,</span><span class="o">-</span><span class="mi">52</span><span class="p">,</span><span class="mi">84</span><span class="p">])</span>
</pre></div>
</div>
<p>Harvest a resource</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">csw</span><span class="o">.</span><span class="n">harvest</span><span class="p">(</span><span class="s1">&#39;http://host/url.xml&#39;</span><span class="p">,</span> <span class="s1">&#39;http://www.isotc211.org/2005/gmd&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="wmc">
<h2>WMC<a class="headerlink" href="#wmc" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="wps">
<h2>WPS<a class="headerlink" href="#wps" title="Permalink to this headline">¶</a></h2>
<p>Inspect a remote WPS and retrieve the supported processes:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.wps</span> <span class="kn">import</span> <span class="n">WebProcessingService</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wps</span> <span class="o">=</span> <span class="n">WebProcessingService</span><span class="p">(</span><span class="s1">&#39;http://cida.usgs.gov/climate/gdp/process/WebProcessingService&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">skip_caps</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wps</span><span class="o">.</span><span class="n">getcapabilities</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wps</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;WPS&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wps</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;Geo Data Portal WPS Processing&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wps</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">abstract</span>
<span class="go">&#39;Geo Data Portal WPS Processing&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">operation</span> <span class="ow">in</span> <span class="n">wps</span><span class="o">.</span><span class="n">operations</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">operation</span><span class="o">.</span><span class="n">name</span>
<span class="gp">...</span>
<span class="go">&#39;GetCapabilities&#39;</span>
<span class="go">&#39;DescribeProcess&#39;</span>
<span class="go">&#39;Execute&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">process</span> <span class="ow">in</span> <span class="n">wps</span><span class="o">.</span><span class="n">processes</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">process</span><span class="o">.</span><span class="n">identifier</span><span class="p">,</span> <span class="n">process</span><span class="o">.</span><span class="n">title</span>
<span class="gp">...</span>
<span class="go">(&#39;gov.usgs.cida.gdp.wps.algorithm.FeatureCoverageIntersectionAlgorithm&#39;, &#39;Feature Coverage WCS Intersection&#39;)</span>
<span class="go">(&#39;gov.usgs.cida.gdp.wps.algorithm.FeatureCoverageOPeNDAPIntersectionAlgorithm&#39;, &#39;Feature Coverage OPeNDAP Intersection&#39;)</span>
<span class="go">(&#39;gov.usgs.cida.gdp.wps.algorithm.FeatureCategoricalGridCoverageAlgorithm&#39;, &#39;Feature Categorical Grid Coverage&#39;)</span>
<span class="go">(&#39;gov.usgs.cida.gdp.wps.algorithm.FeatureWeightedGridStatisticsAlgorithm&#39;, &#39;Feature Weighted Grid Statistics&#39;)</span>
<span class="go">(&#39;gov.usgs.cida.gdp.wps.algorithm.FeatureGridStatisticsAlgorithm&#39;, &#39;Feature Grid Statistics&#39;)</span>
<span class="go">(&#39;gov.usgs.cida.gdp.wps.algorithm.PRMSParameterGeneratorAlgorithm&#39;, &#39;PRMS Parameter Generator&#39;)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Determine how a specific process needs to be invoked - i.e. what are its input parameters, and output result:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.wps</span> <span class="kn">import</span> <span class="n">printInputOutput</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">process</span> <span class="o">=</span> <span class="n">wps</span><span class="o">.</span><span class="n">describeprocess</span><span class="p">(</span><span class="s1">&#39;gov.usgs.cida.gdp.wps.algorithm.FeatureWeightedGridStatisticsAlgorithm&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">process</span><span class="o">.</span><span class="n">identifier</span>
<span class="go">&#39;gov.usgs.cida.gdp.wps.algorithm.FeatureWeightedGridStatisticsAlgorithm&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">process</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;Feature Weighted Grid Statistics&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">process</span><span class="o">.</span><span class="n">abstract</span>
<span class="go">&#39;This algorithm generates area weighted statistics of a gridded dataset for a set of vector polygon features. Using the bounding-box that encloses ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="nb">input</span> <span class="ow">in</span> <span class="n">process</span><span class="o">.</span><span class="n">dataInputs</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">printInputOutput</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go"> identifier=FEATURE_COLLECTION, title=Feature Collection, abstract=A feature collection encoded as a WFS request or one of the supported GML profiles.,...</span>
<span class="go"> Supported Value: mimeType=text/xml, encoding=UTF-8, schema=http://schemas.opengis.net/gml/2.0.0/feature.xsd</span>
<span class="go"> Supported Value: mimeType=text/xml, encoding=UTF-8, schema=http://schemas.opengis.net/gml/2.1.1/feature.xsd</span>
<span class="go"> Supported Value: mimeType=text/xml, encoding=UTF-8, schema=http://schemas.opengis.net/gml/2.1.2/feature.xsd</span>
<span class="go"> Supported Value: mimeType=text/xml, encoding=UTF-8, schema=http://schemas.opengis.net/gml/2.1.2.1/feature.xsd</span>
<span class="go"> Supported Value: mimeType=text/xml, encoding=UTF-8, schema=http://schemas.opengis.net/gml/3.0.0/base/feature.xsd</span>
<span class="go"> Supported Value: mimeType=text/xml, encoding=UTF-8, schema=http://schemas.opengis.net/gml/3.0.1/base/feature.xsd</span>
<span class="go"> Supported Value: mimeType=text/xml, encoding=UTF-8, schema=http://schemas.opengis.net/gml/3.1.0/base/feature.xsd</span>
<span class="go"> Supported Value: mimeType=text/xml, encoding=UTF-8, schema=http://schemas.opengis.net/gml/3.1.1/base/feature.xsd</span>
<span class="go"> Supported Value: mimeType=text/xml, encoding=UTF-8, schema=http://schemas.opengis.net/gml/3.2.1/base/feature.xsd</span>
<span class="go"> Default Value: mimeType=text/xml, encoding=UTF-8, schema=http://schemas.opengis.net/gml/2.0.0/feature.xsd</span>
<span class="go"> minOccurs=1, maxOccurs=1</span>
<span class="go"> identifier=DATASET_URI, title=Dataset URI, abstract=The base data web service URI for the dataset of interest., data type=anyURI</span>
<span class="go"> Allowed Value: AnyValue</span>
<span class="go"> Default Value: None</span>
<span class="go"> minOccurs=1, maxOccurs=1</span>
<span class="go"> identifier=DATASET_ID, title=Dataset Identifier, abstract=The unique identifier for the data type or variable of interest., data type=string</span>
<span class="go"> Allowed Value: AnyValue</span>
<span class="go"> Default Value: None</span>
<span class="go"> minOccurs=1, maxOccurs=2147483647</span>
<span class="go"> identifier=REQUIRE_FULL_COVERAGE, title=Require Full Coverage, abstract=If turned on, the service will require that the dataset of interest ....</span>
<span class="go"> Allowed Value: True</span>
<span class="go"> Default Value: True</span>
<span class="go"> minOccurs=1, maxOccurs=1</span>
<span class="go"> identifier=TIME_START, title=Time Start, abstract=The date to begin analysis., data type=dateTime</span>
<span class="go"> Allowed Value: AnyValue</span>
<span class="go"> Default Value: None</span>
<span class="go"> minOccurs=0, maxOccurs=1</span>
<span class="go"> identifier=TIME_END, title=Time End, abstract=The date to end analysis., data type=dateTime</span>
<span class="go"> Allowed Value: AnyValue</span>
<span class="go"> Default Value: None</span>
<span class="go"> minOccurs=0, maxOccurs=1</span>
<span class="go"> identifier=FEATURE_ATTRIBUTE_NAME, title=Feature Attribute Name, abstract=The attribute that will be used to label column headers in processing output., ...</span>
<span class="go"> Allowed Value: AnyValue</span>
<span class="go"> Default Value: None</span>
<span class="go"> minOccurs=1, maxOccurs=1</span>
<span class="go"> identifier=DELIMITER, title=Delimiter, abstract=The delimiter that will be used to separate columns in the processing output., data type=string</span>
<span class="go"> Allowed Value: COMMA</span>
<span class="go"> Allowed Value: TAB</span>
<span class="go"> Allowed Value: SPACE</span>
<span class="go"> Default Value: COMMA</span>
<span class="go"> minOccurs=1, maxOccurs=1</span>
<span class="go"> identifier=STATISTICS, title=Statistics, abstract=Statistics that will be returned for each feature in the processing output., data type=string</span>
<span class="go"> Allowed Value: MEAN</span>
<span class="go"> Allowed Value: MINIMUM</span>
<span class="go"> Allowed Value: MAXIMUM</span>
<span class="go"> Allowed Value: VARIANCE</span>
<span class="go"> Allowed Value: STD_DEV</span>
<span class="go"> Allowed Value: SUM</span>
<span class="go"> Allowed Value: COUNT</span>
<span class="go"> Default Value: None</span>
<span class="go"> minOccurs=1, maxOccurs=7</span>
<span class="go"> identifier=GROUP_BY, title=Group By, abstract=If multiple features and statistics are selected, this will change whether the processing output ...</span>
<span class="go"> Allowed Value: STATISTIC</span>
<span class="go"> Allowed Value: FEATURE_ATTRIBUTE</span>
<span class="go"> Default Value: None</span>
<span class="go"> minOccurs=1, maxOccurs=1</span>
<span class="go"> identifier=SUMMARIZE_TIMESTEP, title=Summarize Timestep, abstract=If selected, processing output will include columns with summarized statistics ...</span>
<span class="go"> Allowed Value: True</span>
<span class="go"> Default Value: True</span>
<span class="go"> minOccurs=0, maxOccurs=1</span>
<span class="go"> identifier=SUMMARIZE_FEATURE_ATTRIBUTE, title=Summarize Feature Attribute, abstract=If selected, processing output will include a final row of ...</span>
<span class="go"> Allowed Value: True</span>
<span class="go"> Default Value: True</span>
<span class="go"> minOccurs=0, maxOccurs=1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">output</span> <span class="ow">in</span> <span class="n">process</span><span class="o">.</span><span class="n">processOutputs</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">printInputOutput</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go"> identifier=OUTPUT, title=Output File, abstract=A delimited text file containing requested process output., data type=ComplexData</span>
<span class="go"> Supported Value: mimeType=text/csv, encoding=UTF-8, schema=None</span>
<span class="go"> Default Value: mimeType=text/csv, encoding=UTF-8, schema=None</span>
<span class="go"> reference=None, mimeType=None</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>Submit a processing request (extraction of a climate index variable over a specific GML polygon, for a given period of time), monitor the execution until complete:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.wps</span> <span class="kn">import</span> <span class="n">GMLMultiPolygonFeatureCollection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">polygon</span> <span class="o">=</span> <span class="p">[(</span><span class="o">-</span><span class="mf">102.8184</span><span class="p">,</span> <span class="mf">39.5273</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mf">102.8184</span><span class="p">,</span> <span class="mf">37.418</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mf">101.2363</span><span class="p">,</span> <span class="mf">37.418</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mf">101.2363</span><span class="p">,</span> <span class="mf">39.5273</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mf">102.8184</span><span class="p">,</span> <span class="mf">39.5273</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">featureCollection</span> <span class="o">=</span> <span class="n">GMLMultiPolygonFeatureCollection</span><span class="p">(</span> <span class="p">[</span><span class="n">polygon</span><span class="p">]</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">processid</span> <span class="o">=</span> <span class="s1">&#39;gov.usgs.cida.gdp.wps.algorithm.FeatureWeightedGridStatisticsAlgorithm&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inputs</span> <span class="o">=</span> <span class="p">[</span> <span class="p">(</span><span class="s2">&quot;FEATURE_ATTRIBUTE_NAME&quot;</span><span class="p">,</span><span class="s2">&quot;the_geom&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">(</span><span class="s2">&quot;DATASET_URI&quot;</span><span class="p">,</span> <span class="s2">&quot;dods://cida.usgs.gov/qa/thredds/dodsC/derivatives/derivative-days_above_threshold.pr.ncml&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">(</span><span class="s2">&quot;DATASET_ID&quot;</span><span class="p">,</span> <span class="s2">&quot;ensemble_b1_pr-days_above_threshold&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">(</span><span class="s2">&quot;TIME_START&quot;</span><span class="p">,</span><span class="s2">&quot;2010-01-01T00:00:00.000Z&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">(</span><span class="s2">&quot;TIME_END&quot;</span><span class="p">,</span><span class="s2">&quot;2011-01-01T00:00:00.000Z&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">(</span><span class="s2">&quot;REQUIRE_FULL_COVERAGE&quot;</span><span class="p">,</span><span class="s2">&quot;false&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">(</span><span class="s2">&quot;DELIMITER&quot;</span><span class="p">,</span><span class="s2">&quot;COMMA&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">(</span><span class="s2">&quot;STATISTICS&quot;</span><span class="p">,</span><span class="s2">&quot;MEAN&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">(</span><span class="s2">&quot;GROUP_BY&quot;</span><span class="p">,</span><span class="s2">&quot;STATISTIC&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">(</span><span class="s2">&quot;SUMMARIZE_TIMESTEP&quot;</span><span class="p">,</span><span class="s2">&quot;false&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">(</span><span class="s2">&quot;SUMMARIZE_FEATURE_ATTRIBUTE&quot;</span><span class="p">,</span><span class="s2">&quot;false&quot;</span><span class="p">),</span>
<span class="gp">... </span>           <span class="p">(</span><span class="s2">&quot;FEATURE_COLLECTION&quot;</span><span class="p">,</span> <span class="n">featureCollection</span><span class="p">)</span>
<span class="gp">... </span>          <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;OUTPUT&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">execution</span> <span class="o">=</span> <span class="n">wps</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">processid</span><span class="p">,</span> <span class="n">inputs</span><span class="p">,</span> <span class="n">output</span> <span class="o">=</span> <span class="s2">&quot;OUTPUT&quot;</span><span class="p">)</span>
<span class="go">Executing WPS request...</span>
<span class="go">Execution status=ProcessStarted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.wps</span> <span class="kn">import</span> <span class="n">monitorExecution</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">monitorExecution</span><span class="p">(</span><span class="n">execution</span><span class="p">)</span>
<span class="go">Checking execution status... (location=http://cida.usgs.gov/climate/gdp/process/RetrieveResultServlet?id=6809217153012787208)</span>
<span class="go">Execution status=ProcessSucceeded</span>
<span class="go">Execution status: ProcessSucceeded</span>
<span class="go">Output URL=http://cida.usgs.gov/climate/gdp/process/RetrieveResultServlet?id=6809217153012787208OUTPUT.3cbcd666-a912-456f-84a3-6ede450aca95</span>
</pre></div>
</div>
<p>Alternatively, define the feature through an embedded query to a WFS server:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.wps</span> <span class="kn">import</span> <span class="n">WFSQuery</span><span class="p">,</span> <span class="n">WFSFeatureCollection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wfsUrl</span> <span class="o">=</span> <span class="s2">&quot;http://cida.usgs.gov/climate/gdp/proxy/http://igsarm-cida-gdp2.er.usgs.gov:8082/geoserver/wfs&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">query</span> <span class="o">=</span> <span class="n">WFSQuery</span><span class="p">(</span><span class="s2">&quot;sample:CONUS_States&quot;</span><span class="p">,</span> <span class="n">propertyNames</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;the_geom&#39;</span><span class="p">,</span><span class="s2">&quot;STATE&quot;</span><span class="p">],</span> <span class="n">filters</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;CONUS_States.508&quot;</span><span class="p">,</span><span class="s2">&quot;CONUS_States.469&quot;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">featureCollection</span> <span class="o">=</span> <span class="n">WFSFeatureCollection</span><span class="p">(</span><span class="n">wfsUrl</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># same process submission as above</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>You can also submit a pre-made request encoded as WPS XML:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">request</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;/Users/cinquini/Documents/workspace-cog/wps/tests/resources/wps_USGSExecuteRequest1.xml&#39;</span><span class="p">,</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">execution</span> <span class="o">=</span> <span class="n">wps</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="p">[],</span> <span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">)</span>
<span class="go">Executing WPS request...</span>
<span class="go">Execution status=ProcessStarted</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">monitorExecution</span><span class="p">(</span><span class="n">execution</span><span class="p">)</span>
<span class="go">Checking execution status... (location=http://cida.usgs.gov/climate/gdp/process/RetrieveResultServlet?id=5103866488472745994)</span>
<span class="go">Execution status=ProcessSucceeded</span>
<span class="go">Execution status: ProcessSucceeded</span>
<span class="go">Output URL=http://cida.usgs.gov/climate/gdp/process/RetrieveResultServlet?id=5103866488472745994OUTPUT.f80e2a78-96a9-4343-9777-be60fac5b256</span>
</pre></div>
</div>
</div>
<div class="section" id="sos-1-0">
<h2>SOS 1.0<a class="headerlink" href="#sos-1-0" title="Permalink to this headline">¶</a></h2>
<p>GetCapabilities</p>
<p>Imports</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tests.utils</span> <span class="kn">import</span> <span class="n">cast_tuple_int_list</span><span class="p">,</span> <span class="n">resource_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.sos</span> <span class="kn">import</span> <span class="n">SensorObservationService</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.fes</span> <span class="kn">import</span> <span class="n">FilterCapabilities</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.ows</span> <span class="kn">import</span> <span class="n">OperationsMetadata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.crs</span> <span class="kn">import</span> <span class="n">Crs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">itemgetter</span>
</pre></div>
</div>
<p>Initialize ncSOS</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xml</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="s1">&#39;sos_ncSOS_getcapabilities.xml&#39;</span><span class="p">),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ncsos</span> <span class="o">=</span> <span class="n">SensorObservationService</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">xml</span><span class="o">=</span><span class="n">xml</span><span class="p">)</span>
</pre></div>
</div>
<p>Initialize 52N</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xml</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="s1">&#39;sos_52n_getcapabilities.xml&#39;</span><span class="p">),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f2n</span> <span class="o">=</span> <span class="n">SensorObservationService</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">xml</span><span class="o">=</span><span class="n">xml</span><span class="p">)</span>
</pre></div>
</div>
<p>Initialize NDBC</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xml</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="s1">&#39;sos_ndbc_getcapabilities.xml&#39;</span><span class="p">),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ndbc</span> <span class="o">=</span> <span class="n">SensorObservationService</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">xml</span><span class="o">=</span><span class="n">xml</span><span class="p">)</span>
</pre></div>
</div>
<p>ServiceIdentification</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">ndbc</span><span class="o">.</span><span class="n">identification</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">service</span>
<span class="go">&#39;OGC:SOS&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">version</span>
<span class="go">&#39;1.0.0&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;National Data Buoy Center SOS&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">abstract</span>
<span class="go">&#39;National Data Buoy Center SOS&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">keywords</span>
<span class="go">[&#39;Weather&#39;, &#39;Ocean Currents&#39;, &#39;Air Temperature&#39;, &#39;Water Temperature&#39;, &#39;Conductivity&#39;, &#39;Salinity&#39;, &#39;Barometric Pressure&#39;, &#39;Water Level&#39;, &#39;Waves&#39;, &#39;Winds&#39;, &#39;NDBC&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">fees</span>
<span class="go">&#39;NONE&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">accessconstraints</span>
<span class="go">&#39;NONE&#39;</span>
</pre></div>
</div>
<p>ServiceProvider</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">ndbc</span><span class="o">.</span><span class="n">provider</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;National Data Buoy Center&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">url</span>
<span class="go">&#39;http://sdf.ndbc.noaa.gov/&#39;</span>
</pre></div>
</div>
<p>ServiceContact</p>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">contact</span>
</pre></div>
</div>
<p>Unused fields should return nothing</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">role</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">instructions</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">organization</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">fax</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">hours</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;Webmaster&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">phone</span>
<span class="go">&#39;228-688-2805&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">address</span>
<span class="go">&#39;Bldg. 3205&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">city</span>
<span class="go">&#39;Stennis Space Center&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">region</span>
<span class="go">&#39;MS&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">postcode</span>
<span class="go">&#39;39529&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">country</span>
<span class="go">&#39;USA&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">email</span>
<span class="go">&#39;webmaster.ndbc@noaa.gov&#39;</span>
</pre></div>
</div>
</div></blockquote>
<p>OperationsMetadata</p>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">o</span> <span class="o">=</span> <span class="n">ndbc</span><span class="o">.</span><span class="n">operations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Name</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Get by name</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">getcap</span> <span class="o">=</span> <span class="n">ndbc</span><span class="o">.</span><span class="n">get_operation_by_name</span><span class="p">(</span><span class="s1">&#39;GetCapabilities&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">getcap</span><span class="p">,</span> <span class="n">OperationsMetadata</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Get by name (case insensitive)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">getcap</span> <span class="o">=</span> <span class="n">ndbc</span><span class="o">.</span><span class="n">get_operation_by_name</span><span class="p">(</span><span class="s1">&#39;getcapabilities&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">getcap</span><span class="p">,</span> <span class="n">OperationsMetadata</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p># GetCapabilities</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">getcap</span><span class="o">.</span><span class="n">constraints</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">getcap</span><span class="o">.</span><span class="n">parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;Sections&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ServiceIdentification&#39;</span><span class="p">,</span> <span class="s1">&#39;ServiceProvider&#39;</span><span class="p">,</span> <span class="s1">&#39;OperationsMetadata&#39;</span><span class="p">,</span> <span class="s1">&#39;Contents&#39;</span><span class="p">,</span> <span class="s1">&#39;All&#39;</span><span class="p">]}}</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">getcap</span><span class="o">.</span><span class="n">methods</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">[{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Get&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://sdf.ndbc.noaa.gov/sos/server.php&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;Post&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://sdf.ndbc.noaa.gov/sos/server.php&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]}]</span>
<span class="go">True</span>
</pre></div>
</div>
<p># DescribeSensor</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">descsen</span> <span class="o">=</span> <span class="n">ndbc</span><span class="o">.</span><span class="n">get_operation_by_name</span><span class="p">(</span><span class="s1">&#39;describesensor&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">descsen</span><span class="o">.</span><span class="n">constraints</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">descsen</span><span class="o">.</span><span class="n">parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;outputFormat&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;text/xml;subtype=&quot;sensorML/1.0.1&quot;&#39;</span><span class="p">]}}</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">descsen</span><span class="o">.</span><span class="n">methods</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">[{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Get&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://sdf.ndbc.noaa.gov/sos/server.php&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;Post&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://sdf.ndbc.noaa.gov/sos/server.php&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]}]</span>
<span class="go">True</span>
</pre></div>
</div>
<p># GetObservation</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">getob</span> <span class="o">=</span> <span class="n">ndbc</span><span class="o">.</span><span class="n">get_operation_by_name</span><span class="p">(</span><span class="s1">&#39;getobservation&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">getob</span><span class="o">.</span><span class="n">constraints</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">getob</span><span class="o">.</span><span class="n">parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;observedProperty&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;air_temperature&#39;</span><span class="p">,</span> <span class="s1">&#39;air_pressure_at_sea_level&#39;</span><span class="p">,</span> <span class="s1">&#39;sea_water_electrical_conductivity&#39;</span><span class="p">,</span> <span class="s1">&#39;currents&#39;</span><span class="p">,</span> <span class="s1">&#39;sea_water_salinity&#39;</span><span class="p">,</span> <span class="s1">&#39;sea_floor_depth_below_sea_surface&#39;</span><span class="p">,</span> <span class="s1">&#39;sea_water_temperature&#39;</span><span class="p">,</span> <span class="s1">&#39;waves&#39;</span><span class="p">,</span> <span class="s1">&#39;winds&#39;</span><span class="p">]}}</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">getob</span><span class="o">.</span><span class="n">methods</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">[{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;Get&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://sdf.ndbc.noaa.gov/sos/server.php&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;Post&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://sdf.ndbc.noaa.gov/sos/server.php&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]}]</span>
<span class="go">True</span>
</pre></div>
</div>
</div></blockquote>
<p>Filter_Capabilities</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">filter</span> <span class="o">=</span> <span class="n">ndbc</span><span class="o">.</span><span class="n">filters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="n">FilterCapabilities</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<dl>
<dt>Contents</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">contents</span> <span class="o">=</span> <span class="n">ndbc</span><span class="o">.</span><span class="n">contents</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
<span class="go">848</span>
</pre></div>
</div>
</dd>
<dt>Dict access __getitem__</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ndbc</span><span class="p">[</span><span class="s1">&#39;station-46084&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;urn:ioos:station:wmo:46084&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ndbc</span><span class="p">[</span><span class="s1">&#39;rubbishrubbish&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">KeyError</span>: <span class="n">&#39;No Observational Offering with id: rubbishrubbish&#39;</span>
</pre></div>
</div>
</dd>
<dt>Network</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network</span> <span class="o">=</span> <span class="n">contents</span><span class="p">[</span><span class="s1">&#39;network-all&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">network</span><span class="o">.</span><span class="n">id</span>
<span class="go">&#39;network-all&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;urn:ioos:network:noaa.nws.ndbc:all&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network</span><span class="o">.</span><span class="n">description</span>
<span class="go">&#39;All stations on the NDBC SOS server&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">srs</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">srs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">srs</span><span class="p">,</span> <span class="n">Crs</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">srs</span><span class="o">.</span><span class="n">getcodeurn</span><span class="p">()</span>
<span class="go">&#39;urn:ogc:def:crs:EPSG::4326&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">srs</span><span class="o">.</span><span class="n">getcode</span><span class="p">()</span>
<span class="go">&#39;EPSG:4326&#39;</span>
</pre></div>
</div>
<p># (left, bottom, right, top)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cast_tuple_int_list</span><span class="p">(</span><span class="n">network</span><span class="o">.</span><span class="n">bbox</span><span class="p">)</span>
<span class="go">[-179, -77, 180, 80]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bbsrs</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">bbox_srs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">bbsrs</span><span class="p">,</span> <span class="n">Crs</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bbsrs</span><span class="o">.</span><span class="n">getcodeurn</span><span class="p">()</span>
<span class="go">&#39;urn:ogc:def:crs:EPSG::4326&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bbsrs</span><span class="o">.</span><span class="n">getcode</span><span class="p">()</span>
<span class="go">&#39;EPSG:4326&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bp</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">begin_position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">bp</span><span class="p">,</span> <span class="n">datetime</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ep</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">end_position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ep</span><span class="p">,</span> <span class="n">datetime</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network</span><span class="o">.</span><span class="n">result_model</span>
<span class="go">&#39;om:Observation&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">procs</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">procedures</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">procs</span><span class="p">)</span>
<span class="go">847</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network</span><span class="o">.</span><span class="n">observed_properties</span>
<span class="go">[&#39;http://mmisw.org/ont/cf/parameter/air_temperature&#39;, &#39;http://mmisw.org/ont/cf/parameter/air_pressure_at_sea_level&#39;, &#39;http://mmisw.org/ont/cf/parameter/sea_water_electrical_conductivity&#39;, &#39;http://mmisw.org/ont/cf/parameter/currents&#39;, &#39;http://mmisw.org/ont/cf/parameter/sea_water_salinity&#39;, &#39;http://mmisw.org/ont/cf/parameter/sea_floor_depth_below_sea_surface&#39;, &#39;http://mmisw.org/ont/cf/parameter/sea_water_temperature&#39;, &#39;http://mmisw.org/ont/cf/parameter/waves&#39;, &#39;http://mmisw.org/ont/cf/parameter/winds&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">foi</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">features_of_interest</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">foi</span><span class="p">)</span>
<span class="go">1082</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rfs</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">response_formats</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">rfs</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="go">&#39;application/vnd.google-earth.kml+xml&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rms</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">response_modes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">rms</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rms</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;inline&#39;</span>
</pre></div>
</div>
</dd>
</dl>
<p>Station</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">station</span> <span class="o">=</span> <span class="n">contents</span><span class="p">[</span><span class="s1">&#39;station-zbqn7&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">station</span><span class="o">.</span><span class="n">id</span>
<span class="go">&#39;station-zbqn7&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">station</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;urn:ioos:station:wmo:zbqn7&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">station</span><span class="o">.</span><span class="n">description</span>
<span class="go">&quot;Zeke&#39;s Basin, North Carolina&quot;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">srs</span> <span class="o">=</span> <span class="n">station</span><span class="o">.</span><span class="n">srs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">srs</span><span class="p">,</span> <span class="n">Crs</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">srs</span><span class="o">.</span><span class="n">getcodeurn</span><span class="p">()</span>
<span class="go">&#39;urn:ogc:def:crs:EPSG::4326&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">srs</span><span class="o">.</span><span class="n">getcode</span><span class="p">()</span>
<span class="go">&#39;EPSG:4326&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cast_tuple_int_list</span><span class="p">(</span><span class="n">station</span><span class="o">.</span><span class="n">bbox</span><span class="p">)</span>
<span class="go">[-77, 33, -77, 33]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bbsrs</span> <span class="o">=</span> <span class="n">station</span><span class="o">.</span><span class="n">bbox_srs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">bbsrs</span><span class="p">,</span> <span class="n">Crs</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bbsrs</span><span class="o">.</span><span class="n">getcodeurn</span><span class="p">()</span>
<span class="go">&#39;urn:ogc:def:crs:EPSG::4326&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bbsrs</span><span class="o">.</span><span class="n">getcode</span><span class="p">()</span>
<span class="go">&#39;EPSG:4326&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bp</span> <span class="o">=</span> <span class="n">station</span><span class="o">.</span><span class="n">begin_position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">bp</span><span class="p">,</span> <span class="n">datetime</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ep</span> <span class="o">=</span> <span class="n">station</span><span class="o">.</span><span class="n">end_position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ep</span><span class="p">,</span> <span class="n">datetime</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">station</span><span class="o">.</span><span class="n">result_model</span>
<span class="go">&#39;om:Observation&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">procs</span> <span class="o">=</span> <span class="n">station</span><span class="o">.</span><span class="n">procedures</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">procs</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">procs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;urn:ioos:station:wmo:zbqn7&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ops</span> <span class="o">=</span> <span class="n">station</span><span class="o">.</span><span class="n">observed_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">ops</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ops</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;http://mmisw.org/ont/cf/parameter/sea_water_electrical_conductivity&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">foi</span> <span class="o">=</span> <span class="n">station</span><span class="o">.</span><span class="n">features_of_interest</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">foi</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;urn:cgi:Feature:CGI:EarthOcean&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rfs</span> <span class="o">=</span> <span class="n">station</span><span class="o">.</span><span class="n">response_formats</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">rfs</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;text/xml;schema=&quot;ioos/0.6.1&quot;&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rm</span> <span class="o">=</span> <span class="n">station</span><span class="o">.</span><span class="n">response_modes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">rm</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;inline&#39;</span>
</pre></div>
</div>
<p>GetObservation</p>
<p>Imports</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tests.utils</span> <span class="kn">import</span> <span class="n">resource_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.sos</span> <span class="kn">import</span> <span class="n">SensorObservationService</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.fes2</span> <span class="kn">import</span> <span class="n">FilterCapabilities</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.ows</span> <span class="kn">import</span> <span class="n">OperationsMetadata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.crs</span> <span class="kn">import</span> <span class="n">Crs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">itemgetter</span>
</pre></div>
</div>
<p>Initialize</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xml</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="s1">&#39;sos_ngwd.xml&#39;</span><span class="p">),</span><span class="s1">&#39;rb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ngwd</span> <span class="o">=</span> <span class="n">SensorObservationService</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">xml</span><span class="o">=</span><span class="n">xml</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;2.0.0&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>ServiceIdentification</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">ngwd</span><span class="o">.</span><span class="n">identification</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">service</span>
<span class="go">&#39;OGC:SOS&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">version</span>
<span class="go">&#39;2.0.0&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="nb">id</span><span class="o">.</span><span class="n">profiles</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;GIN SOS&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">abstract</span>
<span class="go">&#39;GIN SOS mediator&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">keywords</span>
<span class="go">[&#39;water level&#39;, &#39;groundwater level&#39;, &#39;surface water flow&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">fees</span>
<span class="go">&#39;NONE&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">accessconstraints</span>
<span class="go">&#39;NONE&#39;</span>
</pre></div>
</div>
<p>ServiceProvider</p>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">ngwd</span><span class="o">.</span><span class="n">provider</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;Geological Survey of Canada, Earth Sciences Sector, Natural Resources Canada, Government of Canada&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">p</span><span class="o">.</span><span class="n">url</span>
<span class="go">&#39;http://gw-info.net&#39;</span>
</pre></div>
</div>
<p>ServiceContact</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">contact</span>
</pre></div>
</div>
<p>Unused fields should return nothing
&gt;&gt;&gt; sc.role
&gt;&gt;&gt; sc.position
‘Research Scientist’
&gt;&gt;&gt; sc.instructions
&gt;&gt;&gt; sc.organization
&gt;&gt;&gt; sc.fax
‘+1-613-995-9273’
&gt;&gt;&gt; sc.hours</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;Boyan Brodaric&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">phone</span>
<span class="go">&#39;+1-613-992-3562&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">address</span>
<span class="go">&#39;615 Booth Street&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">city</span>
<span class="go">&#39;Ottawa&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">region</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">postcode</span>
<span class="go">&#39;K1A 0E9&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">country</span>
<span class="go">&#39;Canada&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sc</span><span class="o">.</span><span class="n">email</span>
<span class="go">&#39;brodaric at nrcan dot gc dot ca&#39;</span>
</pre></div>
</div>
</div></blockquote>
<p>OperationsMetadata</p>
<blockquote>
<div><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">o</span> <span class="o">=</span> <span class="n">ngwd</span><span class="o">.</span><span class="n">operations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p>Get by name
&gt;&gt;&gt; getcap = ngwd.get_operation_by_name(‘GetCapabilities’)
&gt;&gt;&gt; isinstance(getcap, OperationsMetadata)
True</p>
<p>Get by name (case insensitive)
&gt;&gt;&gt; getcap = ngwd.get_operation_by_name(‘getcapabilities’)
&gt;&gt;&gt; isinstance(getcap, OperationsMetadata)
True</p>
<p># GetCapabilities
&gt;&gt;&gt; getcap.constraints
[]</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">getcap</span><span class="o">.</span><span class="n">parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;AcceptVersions&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;2.0.0&#39;</span><span class="p">]},</span> <span class="s1">&#39;updateSequence&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="s1">&#39;Sections&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;ServiceIdentification&#39;</span><span class="p">,</span> <span class="s1">&#39;ServiceProvider&#39;</span><span class="p">,</span> <span class="s1">&#39;OperationsMetadata&#39;</span><span class="p">,</span> <span class="s1">&#39;FilterCapabilities&#39;</span><span class="p">,</span> <span class="s1">&#39;Contents&#39;</span><span class="p">,</span> <span class="s1">&#39;All&#39;</span><span class="p">]},</span> <span class="s1">&#39;AcceptFormats&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;text/xml&#39;</span><span class="p">,</span> <span class="s1">&#39;application/zip&#39;</span><span class="p">]}}</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">getcap</span><span class="o">.</span><span class="n">methods</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">[{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;Get&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://ngwd-bdnes.cits.nrcan.gc.ca:8080/proxy/GinService/sos/gw?&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;Post&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://ngwd-bdnes.cits.nrcan.gc.ca:8080/proxy/GinService/sos/gw&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]}]</span>
<span class="go">True</span>
</pre></div>
</div>
<p># DescribeSensor
&gt;&gt;&gt; descsen = ngwd.get_operation_by_name(‘describesensor’)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">descsen</span><span class="o">.</span><span class="n">constraints</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">descsen</span><span class="o">.</span><span class="n">parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;procedureDescriptionFormat&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;http://www.opengis.net/sensorML/1.0.1&#39;</span><span class="p">]},</span> <span class="s1">&#39;procedure&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;urn:ogc:object:Sensor::GIN_GroundwaterLevelProcess&#39;</span><span class="p">]}}</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">descsen</span><span class="o">.</span><span class="n">methods</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">itemgetter</span><span class="p">(</span><span class="s1">&#39;type&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">[{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Get&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://ngwd-bdnes.cits.nrcan.gc.ca:8080/proxy/GinService/sos/gw?&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;Post&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://ngwd-bdnes.cits.nrcan.gc.ca:8080/proxy/GinService/sos/gw&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]}]</span>
<span class="go">True</span>
</pre></div>
</div>
<p># GetObservation
&gt;&gt;&gt; getob = ngwd.get_operation_by_name(‘getobservation’)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">getob</span><span class="o">.</span><span class="n">constraints</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">getob</span><span class="o">.</span><span class="n">parameters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;srsName&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="s1">&#39;temporalFilter&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="s1">&#39;offering&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;GW_LEVEL&#39;</span><span class="p">]},</span> <span class="s1">&#39;result&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="s1">&#39;responseFormat&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;http://www.opengis.net/waterml/2.0&#39;</span><span class="p">,</span> <span class="s1">&#39;application/zip&#39;</span><span class="p">]},</span> <span class="s1">&#39;observedProperty&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;urn:ogc:def:phenomenon:OGC:1.0.30:groundwaterlevel&#39;</span><span class="p">]},</span> <span class="s1">&#39;procedure&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;urn:ogc:object:Sensor::GIN_GroundwaterLevelProcess&#39;</span><span class="p">]}}</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">getob</span><span class="o">.</span><span class="n">methods</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">[{</span><span class="s1">&#39;type&#39;</span> <span class="p">:</span> <span class="s1">&#39;Get&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://ngwd-bdnes.cits.nrcan.gc.ca:8080/proxy/GinService/sos/gw?&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="p">{</span><span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;Post&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://ngwd-bdnes.cits.nrcan.gc.ca:8080/proxy/GinService/sos/gw&#39;</span><span class="p">,</span> <span class="s1">&#39;constraints&#39;</span><span class="p">:</span> <span class="p">[]}]</span>
<span class="go">True</span>
</pre></div>
</div>
</div></blockquote>
<p>Filter_Capabilities</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">filter</span> <span class="o">=</span> <span class="n">ngwd</span><span class="o">.</span><span class="n">filters</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="nb">filter</span><span class="p">,</span> <span class="n">FilterCapabilities</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<dl>
<dt>Contents</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">contents</span> <span class="o">=</span> <span class="n">ngwd</span><span class="o">.</span><span class="n">contents</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Network
&gt;&gt;&gt; network = contents[‘GW_LEVEL’]
&gt;&gt;&gt; network.id
‘GW_LEVEL’</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network</span><span class="o">.</span><span class="n">procedures</span>
<span class="go">[&#39;urn:ogc:object:Sensor::GIN_GroundwaterLevelProcess&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">srs</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">bbox_srs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">srs</span><span class="p">,</span> <span class="n">Crs</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">srs</span><span class="o">.</span><span class="n">id</span>
<span class="go">&#39;http://www.opengis.net/def/crs/EPSG/0/4326&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">srs</span><span class="o">.</span><span class="n">getcodeurn</span><span class="p">()</span>
<span class="go">&#39;urn:ogc:def:crs:EPSG::4326&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">srs</span><span class="o">.</span><span class="n">getcode</span><span class="p">()</span>
<span class="go">&#39;EPSG:4326&#39;</span>
</pre></div>
</div>
<p># (left, bottom, right, top)
&gt;&gt;&gt; network.bbox
(-120.0, 41.0, -60.0, 60.0)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bbsrs</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">bbox_srs</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">bbsrs</span><span class="p">,</span> <span class="n">Crs</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bbsrs</span><span class="o">.</span><span class="n">getcodeurn</span><span class="p">()</span>
<span class="go">&#39;urn:ogc:def:crs:EPSG::4326&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bbsrs</span><span class="o">.</span><span class="n">getcode</span><span class="p">()</span>
<span class="go">&#39;EPSG:4326&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bp</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">begin_position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">bp</span><span class="p">,</span> <span class="n">datetime</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ep</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">end_position</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">ep</span><span class="p">,</span> <span class="n">datetime</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network</span><span class="o">.</span><span class="n">observed_properties</span>
<span class="go">[&#39;urn:ogc:def:phenomenon:OGC:1.0.30:groundwaterlevel&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network</span><span class="o">.</span><span class="n">response_formats</span>
<span class="go">[]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network</span><span class="o">.</span><span class="n">observation_models</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="sos-2-0">
<h2>SOS 2.0<a class="headerlink" href="#sos-2-0" title="Permalink to this headline">¶</a></h2>
<div class="section" id="examples-of-service-metadata-and-getobservation">
<h3>Examples of service metadata and GetObservation<a class="headerlink" href="#examples-of-service-metadata-and-getobservation" title="Permalink to this headline">¶</a></h3>
<p># Tests using the 52North demo service</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.sos</span> <span class="kn">import</span> <span class="n">SensorObservationService</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">service</span> <span class="o">=</span> <span class="n">SensorObservationService</span><span class="p">(</span><span class="s1">&#39;http://sensorweb.demo.52north.org/52n-sos-webapp/sos/kvp&#39;</span><span class="p">,</span><span class="n">version</span><span class="o">=</span><span class="s1">&#39;2.0.0&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">content</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">service</span><span class="o">.</span><span class="n">contents</span><span class="p">):</span>
<span class="gp">... </span> <span class="nb">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">http://www.52north.org/test/offering/1</span>
<span class="go">http://www.52north.org/test/offering/2</span>
<span class="go">http://www.52north.org/test/offering/3</span>
<span class="go">http://www.52north.org/test/offering/4</span>
<span class="go">http://www.52north.org/test/offering/5</span>
<span class="go">http://www.52north.org/test/offering/6</span>
<span class="go">http://www.52north.org/test/offering/7</span>
<span class="go">http://www.52north.org/test/offering/8</span>
<span class="go">http://www.52north.org/test/offering/developer</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">identification</span>
</pre></div>
</div>
<p># Check basic service metadata
&gt;&gt;&gt; id.service
‘OGC:SOS’</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;52N SOS&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">provider</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">provider</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">provider</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;52North&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">service</span><span class="o">.</span><span class="n">operations</span><span class="p">)</span>
<span class="go">16</span>
</pre></div>
</div>
<p># Check allowed params for get FOI</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_foi</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">get_operation_by_name</span><span class="p">(</span><span class="s1">&#39;GetFeatureOfInterest&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">x</span> <span class="o">=</span> <span class="n">unicode</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">get_foi</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;featureOfInterest&#39;</span><span class="p">][</span><span class="s1">&#39;values&#39;</span><span class="p">]):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">))</span>
<span class="gp">... </span><span class="k">except</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">get_foi</span><span class="o">.</span><span class="n">parameters</span><span class="p">[</span><span class="s1">&#39;featureOfInterest&#39;</span><span class="p">][</span><span class="s1">&#39;values&#39;</span><span class="p">]):</span>
<span class="gp">... </span>        <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">http://www.52north.org/test/featureOfInterest/1</span>
<span class="go">http://www.52north.org/test/featureOfInterest/2</span>
<span class="go">http://www.52north.org/test/featureOfInterest/3</span>
<span class="go">http://www.52north.org/test/featureOfInterest/4</span>
<span class="go">http://www.52north.org/test/featureOfInterest/5</span>
<span class="go">http://www.52north.org/test/featureOfInterest/6</span>
<span class="go">http://www.52north.org/test/featureOfInterest/7</span>
<span class="go">http://www.52north.org/test/featureOfInterest/8</span>
<span class="go">http://www.52north.org/test/featureOfInterest/Heiden</span>
<span class="go">http://www.52north.org/test/featureOfInterest/Münster/FE101</span>
<span class="go">http://www.52north.org/test/featureOfInterest/Portland</span>
<span class="go">http://www.52north.org/test/featureOfInterest/TODO</span>
<span class="go">http://www.52north.org/test/featureOfInterest/world</span>
</pre></div>
</div>
<p># Check allowed params for get observation</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_obs</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">get_operation_by_name</span><span class="p">(</span><span class="s1">&#39;GetObservation&#39;</span><span class="p">)</span>
<span class="go">get_obs.parameters[&#39;responseFormat&#39;][&#39;values&#39;]</span>
<span class="go">[&#39;http://www.opengis.net/om/2.0&#39;]</span>
</pre></div>
</div>
<p># Get observation call</p>
<p># Get latest value using O&amp;M reponse format</p>
<p>#’&lt;?xml version=”1.0” encoding=”UTF-8”?&gt;n&lt;sos:GetObservationResponse xmlns:sos=”http://www.opengis.net/sos/2.0” xmlns:xsi=”http://www.w3.org/2001/XMLSchema-instance” xmlns:om=”http://www.opengis.net/om/2.0” xmlns:gml=”http://www.opengis.net/gml/3.2” xmlns:xlink=”http://www.w3.org/1999/xlink” xsi:schemaLocation=”http://www.opengis.net/sos/2.0 http://schemas.opengis.net/sos/2.0/sosGetObservation.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd http://www.opengis.net/om/2.0 http://schemas.opengis.net/om/2.0/observation.xsd”&gt;n  &lt;sos:observationData&gt;n    &lt;om:OM_Observation gml:id=”o_729058FD6AAFC4701C83D125175F889F51FD4798”&gt;n      &lt;om:type xlink:href=”http://www.opengis.net/def/observationType/OGC-OM/2.0/OM_Measurement”/&gt;n      &lt;om:phenomenonTime&gt;n        &lt;gml:TimeInstant gml:id=”phenomenonTime_2118549”&gt;n          &lt;gml:timePosition&gt;2014-07-10T04:31:58.000Z&lt;/gml:timePosition&gt;n        &lt;/gml:TimeInstant&gt;n      &lt;/om:phenomenonTime&gt;n      &lt;om:resultTime xlink:href=”#phenomenonTime_2118549”/&gt;n      &lt;om:procedure xlink:href=”http://geoviqua.dev.52north.org/procedures/WXT520”/&gt;n      &lt;om:observedProperty xlink:href=”http://geoviqua.dev.52north.org/properties/AirTemperature”/&gt;n      &lt;om:featureOfInterest xlink:href=”http://geoviqua.dev.52north.org/stations/Vaisala-WXT520” xlink:title=”Vaisala_WXT520”/&gt;n      &lt;om:result xmlns:ns=”http://www.opengis.net/gml/3.2” uom=”degC” xsi:type=”ns:MeasureType”&gt;17.2&lt;/om:result&gt;n    &lt;/om:OM_Observation&gt;n  &lt;/sos:observationData&gt;n&lt;/sos:GetObservationResponse&gt;’
&gt;&gt;&gt; latest_response = service.get_observation(‘http://www.opengis.net/om/2.0’, [‘http://www.52north.org/test/offering/1’], [‘http://www.52north.org/test/observableProperty/1’], eventTime=’om:phenomenonTime,latest’, timeout=120)</p>
</div>
<div class="section" id="using-the-getobservation-response-decoder-for-o-m-and-waterml2-0-results">
<h3>Using the GetObservation response decoder for O&amp;M and WaterML2.0 results<a class="headerlink" href="#using-the-getobservation-response-decoder-for-o-m-and-waterml2-0-results" title="Permalink to this headline">¶</a></h3>
<p># SOS version 2.0 tests using the 52North installation for IOOS: <a class="reference external" href="http://ioossos.axiomalaska.com/">http://ioossos.axiomalaska.com/</a></p>
<p># Imports</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.sos</span> <span class="kn">import</span> <span class="n">SensorObservationService</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.swe.observation.sos200</span> <span class="kn">import</span> <span class="n">SOSGetObservationResponse</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.etree</span> <span class="kn">import</span> <span class="n">etree</span>
</pre></div>
</div>
<p># Setup</p>
<p>#&gt;&gt;&gt; service = SensorObservationService(‘<a class="reference external" href="http://geoviqua.dev.52north.org/SOS-Q/sos/kvp',version='2.0.0">http://geoviqua.dev.52north.org/SOS-Q/sos/kvp’,version=’2.0.0</a>’)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">service</span> <span class="o">=</span> <span class="n">SensorObservationService</span><span class="p">(</span><span class="s1">&#39;http://ioossos.axiomalaska.com/52n-sos-ioos-stable/sos/kvp&#39;</span><span class="p">,</span><span class="n">version</span><span class="o">=</span><span class="s1">&#39;2.0.0&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p># <a class="reference external" href="http://ioossos.axiomalaska.com/52n-sos-ioos-stable/sos/kvp?service=SOS&amp;request=GetObservation&amp;namespaces=xmlns(om%2Chttp%3A%2F%2Fwww.opengis.net%2Fom%2F2.0)&amp;temporalFilter=om%3AphenomenonTime%2Clatest&amp;version=2.0.0">http://ioossos.axiomalaska.com/52n-sos-ioos-stable/sos/kvp?service=SOS&amp;request=GetObservation&amp;namespaces=xmlns(om%2Chttp%3A%2F%2Fwww.opengis.net%2Fom%2F2.0)&amp;temporalFilter=om%3AphenomenonTime%2Clatest&amp;version=2.0.0</a></p>
<p># Check allowed params for get observation</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_obs</span><span class="o">=</span><span class="n">service</span><span class="o">.</span><span class="n">get_operation_by_name</span><span class="p">(</span><span class="s1">&#39;GetObservation&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">get_observation</span><span class="p">(</span><span class="n">responseFormat</span><span class="o">=</span><span class="s1">&#39;http://www.opengis.net/om/2.0&#39;</span><span class="p">,</span> <span class="n">offerings</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;urn:ioos:station:test:8&#39;</span><span class="p">],</span> <span class="n">observedProperties</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;http://mmisw.org/ont/cf/parameter/sea_water_temperature&#39;</span><span class="p">],</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xml_tree</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_response</span> <span class="o">=</span> <span class="n">SOSGetObservationResponse</span><span class="p">(</span><span class="n">xml_tree</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">parsed_response</span><span class="p">)</span>
<span class="go">&lt;class &#39;owslib.swe.observation.sos200.SOSGetObservationResponse&#39;&gt;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">o</span><span class="o">=</span><span class="n">parsed_response</span><span class="o">.</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>## Value changes each call so can’t be tested</p>
<p>## &gt;&gt;&gt; o.get_result().value</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">o</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span><span class="o">.</span><span class="n">uom</span>
<span class="go">&#39;urn:ogc:def:uom:udunits:2:Cel&#39;</span>
</pre></div>
</div>
<p># This O&amp;M structure of the results splits each point into an O&amp;M object, resulting in 400 results</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">parsed_response</span><span class="o">.</span><span class="n">observations</span><span class="p">)</span>
<span class="go">400</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">parsed_response</span><span class="o">.</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">&lt;class &#39;owslib.swe.observation.om.MeasurementObservation&#39;&gt;</span>
</pre></div>
</div>
<p># Get observation for a specific offering (in this case corresponds to a station) and observed property (sea water temperature)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">service</span><span class="o">.</span><span class="n">get_observation</span><span class="p">(</span><span class="n">responseFormat</span><span class="o">=</span><span class="s1">&#39;http://www.opengis.net/waterml/2.0&#39;</span><span class="p">,</span> <span class="n">offerings</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;urn:ioos:station:test:8&#39;</span><span class="p">],</span> <span class="n">observedProperties</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;http://mmisw.org/ont/cf/parameter/sea_water_temperature&#39;</span><span class="p">],</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xml_tree</span> <span class="o">=</span> <span class="n">etree</span><span class="o">.</span><span class="n">fromstring</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parsed_response</span> <span class="o">=</span> <span class="n">SOSGetObservationResponse</span><span class="p">(</span><span class="n">xml_tree</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">parsed_response</span><span class="p">)</span>
<span class="go">&lt;class &#39;owslib.swe.observation.sos200.SOSGetObservationResponse&#39;&gt;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">parsed_response</span><span class="o">.</span><span class="n">observations</span><span class="p">)</span>
<span class="go">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">parsed_response</span><span class="o">.</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">&lt;class &#39;owslib.swe.observation.waterml2.MeasurementTimeseriesObservation&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">parsed_response</span><span class="o">.</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_result</span><span class="p">())</span>
<span class="go">&lt;class &#39;owslib.swe.observation.waterml2.MeasurementTimeseries&#39;&gt;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">measurement_timeseries</span> <span class="o">=</span> <span class="n">parsed_response</span><span class="o">.</span><span class="n">observations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get_result</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">measurement_timeseries</span><span class="p">)</span>
<span class="go">20</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sensorml">
<h2>SensorML<a class="headerlink" href="#sensorml" title="Permalink to this headline">¶</a></h2>
<p>Imports</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tests.utils</span> <span class="kn">import</span> <span class="n">resource_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.swe.sensor.sml</span> <span class="kn">import</span> <span class="n">SensorML</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dateutil</span> <span class="kn">import</span> <span class="n">parser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pytz</span>
</pre></div>
</div>
<p>Initialize</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xml</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="s1">&#39;sml_ndbc_station.xml&#39;</span><span class="p">),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">root</span> <span class="o">=</span> <span class="n">SensorML</span><span class="p">(</span><span class="n">xml</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">system</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">members</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">system</span><span class="o">.</span><span class="n">description</span>
<span class="go">&#39;Station metadata for 41012 - 40NM ENE of St Augustine, FL&#39;</span>
</pre></div>
</div>
<p>Contacts</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">contacts</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;urn:ogc:def:classifiers:OGC:contactType:operator&#39;, &#39;urn:ogc:def:classifiers:OGC:contactType:publisher&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">operators</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_contacts_by_role</span><span class="p">(</span><span class="s1">&#39;urn:ogc:def:classifiers:OGC:contactType:operator&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">role</span>
<span class="go">&#39;urn:ogc:def:classifiers:OGC:contactType:operator&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">organization</span>
<span class="go">&#39;National Data Buoy Center&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">operators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">country</span>
<span class="go">&#39;US&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">publishers</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_contacts_by_role</span><span class="p">(</span><span class="s1">&#39;urn:ogc:def:classifiers:OGC:contactType:publisher&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">publishers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">role</span>
<span class="go">&#39;urn:ogc:def:classifiers:OGC:contactType:publisher&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">publishers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">organization</span>
<span class="go">&#39;National Data Buoy Center&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">publishers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">country</span>
<span class="go">&#39;USA&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">publishers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">phone</span>
<span class="go">&#39;228-688-2805&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">publishers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">address</span>
<span class="go">&#39;Bldg. 3205&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">publishers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">city</span>
<span class="go">&#39;Stennis Space Center&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">publishers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">postcode</span>
<span class="go">&#39;39529&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">publishers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">email</span>
<span class="go">&#39;webmaster.ndbc@noaa.gov&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">publishers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">region</span>
<span class="go">&#39;MS&#39;</span>
</pre></div>
</div>
<p>Identification</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">identifiers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;Long Name&#39;, &#39;Short Name&#39;, &#39;StationId&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sid</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_identifiers_by_name</span><span class="p">(</span><span class="s1">&#39;StationId&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;StationId&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">definition</span>
<span class="go">&#39;urn:ioos:def:identifier:NOAA:stationID&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">codeSpace</span>
<span class="go">&#39;http://sdf.ndbc.noaa.gov&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sid</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
<span class="go">&#39;urn:ioos:station:wmo:41012&#39;</span>
</pre></div>
</div>
<p>Classifiers</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">classifiers</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;Platform Type&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classi</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_classifiers_by_name</span><span class="p">(</span><span class="s1">&#39;Platform type&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;Platform Type&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">definition</span>
<span class="go">&#39;urn:ioos:def:classifier:NOAA:platformType&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">codeSpace</span>
<span class="go">&#39;http://sdf.ndbc.noaa.gov&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">classi</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
<span class="go">&#39;MOORED BUOY&#39;</span>
</pre></div>
</div>
<p>Documents</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">system</span><span class="o">.</span><span class="n">documentation</span> 
<span class="go">[&lt;owslib.swe.sensor.sml.Documentation ...&gt;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">documentation</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">documents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span><span class="o">.</span><span class="n">description</span>
<span class="go">&#39;Handbook of Automated Data Quality Control Checks and Procedures, National Data Buoy Center, August 2009&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span><span class="o">.</span><span class="n">format</span>
<span class="go">&#39;pdf&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc</span><span class="o">.</span><span class="n">url</span>
<span class="go">&#39;http://www.ndbc.noaa.gov/NDBCHandbookofAutomatedDataQualityControl2009.pdf&#39;</span>
</pre></div>
</div>
<p>History</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">system</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="go">[&#39;deployment_start&#39;, &#39;deployment_stop&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">his</span> <span class="o">=</span> <span class="n">system</span><span class="o">.</span><span class="n">get_history_by_name</span><span class="p">(</span><span class="s1">&#39;deployment_start&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">his</span>
<span class="go">[&lt;owslib.swe.sensor.sml.Event ...&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">his</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">event</span> <span class="o">=</span> <span class="n">his</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">date</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=</span><span class="n">pytz</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
<span class="go">&#39;2010-01-12T00:00:00+00:00&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">event</span><span class="o">.</span><span class="n">description</span>
<span class="go">&#39;Deployment start event&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">event</span><span class="o">.</span><span class="n">documentation</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">url</span>
<span class="go">&#39;http://sdftest.ndbc.noaa.gov/sos/server.php?service=SOS&amp;request=DescribeSensor&amp;version=1.0.0&amp;outputformat=text/xml;subtype=&quot;sensorML/1.0.1&quot;&amp;procedure=urn:ioos:station:wmo:41012:20100112&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="iso">
<h2>ISO<a class="headerlink" href="#iso" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.iso</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">=</span><span class="n">MD_Metadata</span><span class="p">(</span><span class="n">etree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;tests/resources/9250AA67-F3AC-6C12-0CB9-0662231AA181_iso.xml&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">topiccategory</span>
<span class="go">&#39;farming&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>ISO Codelists:</p>
<p>Imports</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tests.utils</span> <span class="kn">import</span> <span class="n">resource_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.etree</span> <span class="kn">import</span> <span class="n">etree</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.iso</span> <span class="kn">import</span> <span class="n">CodelistCatalogue</span>
</pre></div>
</div>
<p>Print testing the code lists</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">e</span><span class="o">=</span><span class="n">etree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="s1">&#39;gmxCodelists.xml&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">CodelistCatalogue</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">getcodelistdictionaries</span><span class="p">())</span>
<span class="go">[&#39;CI_DateTypeCode&#39;, &#39;CI_OnLineFunctionCode&#39;, &#39;CI_PresentationFormCode&#39;, &#39;CI_RoleCode&#39;, &#39;DQ_EvaluationMethodTypeCode&#39;, &#39;DS_AssociationTypeCode&#39;, &#39;DS_InitiativeTypeCode&#39;, &#39;MD_CellGeometryCode&#39;, &#39;MD_CharacterSetCode&#39;, &#39;MD_ClassificationCode&#39;, &#39;MD_CoverageContentTypeCode&#39;, &#39;MD_DatatypeCode&#39;, &#39;MD_DimensionNameTypeCode&#39;, &#39;MD_GeometricObjectTypeCode&#39;, &#39;MD_ImagingConditionCode&#39;, &#39;MD_KeywordTypeCode&#39;, &#39;MD_MaintenanceFrequencyCode&#39;, &#39;MD_MediumFormatCode&#39;, &#39;MD_MediumNameCode&#39;, &#39;MD_ObligationCode&#39;, &#39;MD_PixelOrientationCode&#39;, &#39;MD_ProgressCode&#39;, &#39;MD_RestrictionCode&#39;, &#39;MD_ScopeCode&#39;, &#39;MD_SpatialRepresentationTypeCode&#39;, &#39;MD_TopicCategoryCode&#39;, &#39;MD_TopologyLevelCode&#39;, &#39;MX_ScopeCode&#39;]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">getcodedefinitionidentifiers</span><span class="p">(</span><span class="s1">&#39;CI_RoleCode&#39;</span><span class="p">))</span>
<span class="go">[&#39;author&#39;, &#39;custodian&#39;, &#39;distributor&#39;, &#39;originator&#39;, &#39;owner&#39;, &#39;pointOfContact&#39;, &#39;principalInvestigator&#39;, &#39;processor&#39;, &#39;publisher&#39;, &#39;resourceProvider&#39;, &#39;user&#39;]</span>
</pre></div>
</div>
</div>
<div class="section" id="crs-handling">
<h2>CRS Handling<a class="headerlink" href="#crs-handling" title="Permalink to this headline">¶</a></h2>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib</span> <span class="kn">import</span> <span class="n">crs</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">crs</span><span class="o">.</span><span class="n">Crs</span><span class="p">(</span><span class="s1">&#39;EPSG:4326&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">code</span>
<span class="go">4326</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">getcodeurn</span><span class="p">()</span>
<span class="go">&#39;urn:ogc:def:crs:EPSG::4326&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">getcodeuri1</span><span class="p">()</span>
<span class="go">&#39;http://www.opengis.net/def/crs/EPSG/0/4326&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">getcodeuri2</span><span class="p">()</span>
<span class="go">&#39;http://www.opengis.net/gml/srs/epsg.xml#4326&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">crs</span><span class="o">.</span><span class="n">Crs</span><span class="p">(</span><span class="s1">&#39;urn:ogc:def:crs:EPSG::4326&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">authority</span>
<span class="go">&#39;EPSG&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">axisorder</span>
<span class="go">&#39;yx&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">crs</span><span class="o">.</span><span class="n">Crs</span><span class="p">(</span><span class="s1">&#39;http://www.opengis.net/gml/epsg.xml#4326&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">code</span>
<span class="go">4326</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">axisorder</span>
<span class="go">&#39;yx&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">crs</span><span class="o">.</span><span class="n">Crs</span><span class="p">(</span><span class="s1">&#39;urn:x-ogc:def:crs:EPSG:6.11:2192&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">axisorder</span>
<span class="go">&#39;xy&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">code</span>
<span class="go">2192</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">version</span>
<span class="go">&#39;6.11&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">crs</span><span class="o">.</span><span class="n">Crs</span><span class="p">(</span><span class="s1">&#39;http://www.opengis.net/def/crs/EPSG/0/4326&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">authority</span>
<span class="go">&#39;EPSG&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">code</span>
<span class="go">4326</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">axisorder</span>
<span class="go">&#39;yx&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">=</span><span class="n">crs</span><span class="o">.</span><span class="n">Crs</span><span class="p">(</span><span class="s1">&#39;PROJ4:+proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">authority</span>
<span class="go">&#39;PROJ4&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">code</span>
<span class="go">&#39;+proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="dublin-core">
<h2>Dublin Core<a class="headerlink" href="#dublin-core" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="nasa-dif">
<h2>NASA DIF<a class="headerlink" href="#nasa-dif" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="fgdc">
<h2>FGDC<a class="headerlink" href="#fgdc" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="swiss-gm03">
<h2>Swiss GM03<a class="headerlink" href="#swiss-gm03" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="wmts">
<h2>WMTS<a class="headerlink" href="#wmts" title="Permalink to this headline">¶</a></h2>
<p>Imports</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tests.utils</span> <span class="kn">import</span> <span class="n">scratch_file</span>
</pre></div>
</div>
<p>Find out what a WMTS has to offer. Service metadata:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.wmts</span> <span class="kn">import</span> <span class="n">WebMapTileService</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wmts</span> <span class="o">=</span> <span class="n">WebMapTileService</span><span class="p">(</span><span class="s2">&quot;http://map1c.vis.earthdata.nasa.gov/wmts-geo/wmts.cgi&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wmts</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">type</span>
<span class="go">&#39;OGC WMTS&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wmts</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">version</span>
<span class="go">&#39;1.0.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wmts</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;NASA Global Imagery Browse Services for EOSDIS&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bytearray</span><span class="p">(</span><span class="n">wmts</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">abstract</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="go">bytearray(b&#39;Near real time imagery from multiple NASA instruments&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wmts</span><span class="o">.</span><span class="n">identification</span><span class="o">.</span><span class="n">keywords</span>
<span class="go">[&#39;World&#39;, &#39;Global&#39;]</span>
</pre></div>
</div>
<p>Service Provider:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wmts</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;National Aeronautics and Space Administration&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wmts</span><span class="o">.</span><span class="n">provider</span><span class="o">.</span><span class="n">url</span>
<span class="go">&#39;https://earthdata.nasa.gov/&#39;</span>
</pre></div>
</div>
<p>Available Layers:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">wmts</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">wmts</span><span class="o">.</span><span class="n">contents</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;AIRS_CO_Total_Column_Day&#39;</span>
</pre></div>
</div>
<p>Fetch a tile (using some defaults):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tile</span> <span class="o">=</span> <span class="n">wmts</span><span class="o">.</span><span class="n">gettile</span><span class="p">(</span><span class="n">layer</span><span class="o">=</span><span class="s1">&#39;MODIS_Terra_CorrectedReflectance_TrueColor&#39;</span><span class="p">,</span> <span class="n">tilematrixset</span><span class="o">=</span><span class="s1">&#39;EPSG4326_250m&#39;</span><span class="p">,</span> <span class="n">tilematrix</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;image/jpeg&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">scratch_file</span><span class="p">(</span><span class="s1">&#39;nasa_modis_terra_truecolour.jpg&#39;</span><span class="p">),</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bytes_written</span> <span class="o">=</span> <span class="n">out</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">tile</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<dl>
<dt>Test styles for several layers</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wmts</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="s1">&#39;MLS_SO2_147hPa_Night&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">styles</span>
<span class="go">{&#39;default&#39;: {&#39;isDefault&#39;: True, &#39;title&#39;: &#39;default&#39;}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wmts</span><span class="o">.</span><span class="n">contents</span><span class="p">[</span><span class="s1">&#39;MLS_SO2_147hPa_Night&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">styles</span>
<span class="go">{&#39;default&#39;: {&#39;isDefault&#39;: True, &#39;title&#39;: &#39;default&#39;}}</span>
</pre></div>
</div>
<p>Test a WMTS without a ServiceProvider tag in Capababilities XML</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">wmts</span> <span class="o">=</span> <span class="n">WebMapTileService</span><span class="p">(</span><span class="s1">&#39;http://data.geus.dk/arcgis/rest/services/OneGeologyGlobal/S071_G2500_OneGeology/MapServer/WMTS/1.0.0/WMTSCapabilities.xml&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p>Result:</p>
<a class="reference internal image-reference" href="_images/nasa_modis_terra_truecolour.jpg"><img alt="WMTS GetTile generated by OWSLib" src="_images/nasa_modis_terra_truecolour.jpg" style="width: 512px; height: 512px;" /></a>
</div>
<div class="section" id="waterml">
<h2>WaterML<a class="headerlink" href="#waterml" title="Permalink to this headline">¶</a></h2>
<p>Using WaterML 1.1 for examples</p>
<p>Imports</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tests.utils</span> <span class="kn">import</span> <span class="n">resource_file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.waterml.wml11</span> <span class="kn">import</span> <span class="n">WaterML_1_1</span> <span class="k">as</span> <span class="n">wml</span>
</pre></div>
</div>
<dl>
<dt>An example GetSites response (from cuahsi)</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="s1">&#39;cuahsi_example_all_sites.xml&#39;</span><span class="p">),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sites</span> <span class="o">=</span> <span class="n">wml</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">response</span>
</pre></div>
</div>
</dd>
<dt>Can view the queryInfo structure for information about the query</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sites</span><span class="o">.</span><span class="n">query_info</span><span class="o">.</span><span class="n">creation_time</span>
<span class="go">datetime.datetime(2009, 6, 12, 10, 47, 54, 531250, tzinfo=tzoffset(None, -25200))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sites</span><span class="o">.</span><span class="n">query_info</span><span class="o">.</span><span class="n">notes</span>
<span class="go">[&#39;ALL Sites(empty request)&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sites</span><span class="o">.</span><span class="n">query_info</span><span class="o">.</span><span class="n">criteria</span><span class="o">.</span><span class="n">method_called</span>
<span class="go">&#39;GetSites&#39;</span>
</pre></div>
</div>
</dd>
<dt>Get a list of codes for the sites returned</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">codes</span> <span class="o">=</span> <span class="n">sites</span><span class="o">.</span><span class="n">site_codes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span>
<span class="go">[[&#39;10105900&#39;], [&#39;USU-LBR-Confluence&#39;], [&#39;USU-LBR-EFLower&#39;], [&#39;USU-LBR-EFRepeater&#39;], [&#39;USU-LBR-EFWeather&#39;], [&#39;USU-LBR-ExpFarm&#39;], [&#39;USU-LBR-Mendon&#39;], [&#39;USU-LBR-Paradise&#39;], [&#39;USU-LBR-ParadiseRepeater&#39;], [&#39;USU-LBR-SFLower&#39;], [&#39;USU-LBR-SFUpper&#39;], [&#39;USU-LBR-Wellsville&#39;]]</span>
</pre></div>
</div>
</dd>
<dt>Get the names ofthe sites</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">sites</span><span class="o">.</span><span class="n">site_names</span><span class="p">)</span>
<span class="go">[&#39;East Fork Little Bear River Radio Repeater near Avon, Utah&#39;, &#39;East Fork Little Bear River at Paradise Canal Diversion near Avon, Utah&#39;, &#39;Little Bear River Upper Weather Station near Avon, Utah&#39;, &#39;Little Bear River at McMurdy Hollow near Paradise, Utah&#39;, &#39;Little Bear River at Mendon Road near Mendon, Utah&#39;, &#39;Little Bear River at Paradise, Utah&#39;, &#39;Little Bear River below Confluence of South and East Forks near Avon, Utah&#39;, &#39;Little Bear River near Wellsville, Utah&#39;, &#39;Radio Repeater near Paradise, Utah&#39;, &#39;South Fork Little Bear River above Davenport Creek near Avon, Utah&#39;, &#39;South Fork Little Bear River below Davenport Creek near Avon, Utah&#39;, &#39;Utah State University Experimental Farm near Wellsville, Utah&#39;]</span>
</pre></div>
</div>
</dd>
<dt>Get a site to view it in more detail</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">site</span> <span class="o">=</span> <span class="n">sites</span><span class="p">[</span><span class="n">codes</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">site</span><span class="o">.</span><span class="n">geo_coords</span>
<span class="go">[(&#39;-111.946402&#39;, &#39;41.718473&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">site</span><span class="o">.</span><span class="n">latitudes</span>
<span class="go">[&#39;41.718473&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">site</span><span class="o">.</span><span class="n">longitudes</span>
<span class="go">[&#39;-111.946402&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span> <span class="o">=</span> <span class="n">site</span><span class="o">.</span><span class="n">site_info</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="o">.</span><span class="n">notes</span>
<span class="go">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">info</span><span class="o">.</span><span class="n">site_properties</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;County&#39;</span><span class="p">:</span> <span class="s1">&#39;Cache&#39;</span><span class="p">,</span> <span class="s1">&#39;PosAccuracy_m&#39;</span><span class="p">:</span> <span class="s1">&#39;1&#39;</span><span class="p">,</span> <span class="s1">&#39;State&#39;</span><span class="p">:</span> <span class="s1">&#39;Utah&#39;</span><span class="p">,</span> <span class="s1">&#39;Site Comments&#39;</span><span class="p">:</span> <span class="s1">&#39;Located below county road bridge at Mendon Road crossing&#39;</span><span class="p">}</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="o">.</span><span class="n">altname</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">info</span><span class="o">.</span><span class="n">elevation</span>
<span class="go">&#39;1345&#39;</span>
</pre></div>
</div>
</dd>
<dt>An example GetSiteInfo response</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="s1">&#39;cuahsi_example_siteinfo_multiple.xml&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sites</span> <span class="o">=</span> <span class="n">wml</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">response</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sites</span><span class="o">.</span><span class="n">query_info</span><span class="o">.</span><span class="n">criteria</span><span class="o">.</span><span class="n">method_called</span>
<span class="go">&#39;GetSiteInfo&#39;</span>
</pre></div>
</div>
</dd>
<dt>List codes and names of the sites</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">codes</span> <span class="o">=</span> <span class="n">sites</span><span class="o">.</span><span class="n">site_codes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span>
<span class="go">[[&#39;USU-LBR-Mendon&#39;], [&#39;USU-LBR-Wellsville&#39;]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">sites</span><span class="o">.</span><span class="n">site_names</span><span class="p">)</span>
<span class="go">[&#39;Little Bear River at Mendon Road near Mendon, Utah&#39;, &#39;Little Bear River near Wellsville, Utah&#39;]</span>
</pre></div>
</div>
</dd>
<dt>Get a site for a closer look</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">site</span> <span class="o">=</span> <span class="n">sites</span><span class="p">[</span><span class="n">codes</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">site</span><span class="o">.</span><span class="n">geo_coords</span>
<span class="go">[(&#39;-111.917649&#39;, &#39;41.643457&#39;)]</span>
</pre></div>
</div>
</dd>
<dt>Get the (first) catalog of series for the site</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">catalog</span> <span class="o">=</span> <span class="n">site</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</dd>
<dt>Get a series from the catalog for a closer look</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">series</span> <span class="o">=</span> <span class="n">catalog</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span><span class="o">.</span><span class="n">properties</span>
<span class="go">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span><span class="o">.</span><span class="n">begin_date_time</span>
<span class="go">datetime.datetime(2007, 11, 5, 14, 30)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span><span class="o">.</span><span class="n">end_date_time</span>
<span class="go">datetime.datetime(2008, 4, 5, 20, 30)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span><span class="o">.</span><span class="n">method_id</span>
<span class="go">&#39;23&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span><span class="o">.</span><span class="n">source_id</span>
<span class="go">&#39;2&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span><span class="o">.</span><span class="n">value_count</span>
<span class="go">&#39;7309&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span><span class="o">.</span><span class="n">value_type</span>
<span class="go">&#39;Field Observation&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;Turbidity&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span><span class="o">.</span><span class="n">organization</span>
<span class="go">&#39;Utah State University Utah Water Research Laboratory&#39;</span>
</pre></div>
</div>
</dd>
<dt>List variable names and codes</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">site</span><span class="o">.</span><span class="n">variable_names</span><span class="p">)</span>
<span class="go">[&#39;Battery voltage&#39;, &#39;Gage height&#39;, &#39;Oxygen, dissolved&#39;, &#39;Oxygen, dissolved percent of saturation&#39;, &#39;Phosphorus, total as P&#39;, &#39;Phosphorus, total as P, filtered&#39;, &#39;Solids, total Suspended&#39;, &#39;Specific conductance, unfiltered&#39;, &#39;Temperature&#39;, &#39;Turbidity&#39;, &#39;pH, unfiltered&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">site</span><span class="o">.</span><span class="n">variable_codes</span><span class="p">)</span>
<span class="go">[&#39;USU10&#39;, &#39;USU13&#39;, &#39;USU3&#39;, &#39;USU32&#39;, &#39;USU33&#39;, &#39;USU34&#39;, &#39;USU35&#39;, &#39;USU36&#39;, &#39;USU39&#39;, &#39;USU4&#39;, &#39;USU40&#39;, &#39;USU41&#39;, &#39;USU5&#39;, &#39;USU6&#39;, &#39;USU7&#39;, &#39;USU8&#39;, &#39;USU9&#39;]</span>
</pre></div>
</div>
</dd>
<dt>Get a variable by its code</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">variable</span> <span class="o">=</span> <span class="n">site</span><span class="p">[</span><span class="s1">&#39;USU7&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variable</span><span class="o">.</span><span class="n">variable_name</span>
<span class="go">&#39;Turbidity&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variable</span><span class="o">.</span><span class="n">properties</span>
<span class="go">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variable</span><span class="o">.</span><span class="n">speciation</span>
<span class="go">&#39;Not Applicable&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variable</span><span class="o">.</span><span class="n">unit</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;nephelometric turbidity units&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">variable</span><span class="o">.</span><span class="n">time_scale</span><span class="o">.</span><span class="n">unit</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;second&#39;</span>
</pre></div>
</div>
</dd>
<dt>Example GetValues response</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="s1">&#39;cuahsi_example_get_values.xml&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">series</span> <span class="o">=</span> <span class="n">wml</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">response</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">series</span><span class="o">.</span><span class="n">query_info</span><span class="o">.</span><span class="n">criteria</span><span class="o">.</span><span class="n">method_called</span>
<span class="go">&#39;GetValuesForASite&#39;</span>
</pre></div>
</div>
</dd>
<dt>List the names of the series returned (usually None)</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">series</span><span class="o">.</span><span class="n">series_names</span>
<span class="go">[None, None, None, None, None, None, None, None, None, None, None, None]</span>
</pre></div>
</div>
</dd>
<dt>List the variables and their codes</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">series</span><span class="o">.</span><span class="n">variable_names</span><span class="p">)</span>
<span class="go">[&#39;Battery Voltage&#39;, &#39;Battery voltage&#39;, &#39;Gage height&#39;, &#39;Temperature&#39;, &#39;Turbidity&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">codes</span> <span class="o">=</span> <span class="n">series</span><span class="o">.</span><span class="n">variable_codes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span>
<span class="go">[&#39;SDSC45&#39;, &#39;USU10&#39;, &#39;USU11&#39;, &#39;USU12&#39;, &#39;USU13&#39;, &#39;USU3&#39;, &#39;USU4&#39;, &#39;USU5&#39;, &#39;USU6&#39;, &#39;USU7&#39;, &#39;USU8&#39;, &#39;USU9&#39;]</span>
</pre></div>
</div>
</dd>
<dt>Get variables by code</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">series</span><span class="o">.</span><span class="n">get_series_by_variable</span><span class="p">(</span><span class="n">var_code</span><span class="o">=</span><span class="s1">&#39;USU4&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>Get the first values set from the first variable retrieved from the code</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vals</span> <span class="o">=</span> <span class="n">var</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</dd>
<dt>List (in tuple) the dates and their corresponding measurements</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">vals</span><span class="o">.</span><span class="n">get_date_values</span><span class="p">())</span>
<span class="go">[(datetime.datetime(2005, 8, 5, 0, 0), &#39;34.53&#39;), (datetime.datetime(2005, 8, 5, 0, 30), &#39;37.12&#39;), (datetime.datetime(2005, 8, 5, 1, 0), &#39;35.97&#39;), (datetime.datetime(2005, 8, 5, 1, 30), &#39;35.78&#39;), (datetime.datetime(2005, 8, 5, 2, 0), &#39;35.68&#39;), (datetime.datetime(2005, 8, 5, 2, 30), &#39;36.08&#39;), (datetime.datetime(2005, 8, 5, 3, 0), &#39;37.8&#39;), (datetime.datetime(2005, 8, 5, 3, 30), &#39;37.93&#39;), (datetime.datetime(2005, 8, 5, 4, 0), &#39;38.88&#39;), (datetime.datetime(2005, 8, 5, 4, 30), &#39;37.34&#39;), (datetime.datetime(2005, 8, 5, 5, 0), &#39;35.15&#39;), (datetime.datetime(2005, 8, 5, 5, 30), &#39;35.96&#39;), (datetime.datetime(2005, 8, 5, 6, 0), &#39;35.62&#39;), (datetime.datetime(2005, 8, 5, 6, 30), &#39;34.72&#39;), (datetime.datetime(2005, 8, 5, 7, 0), &#39;34.7&#39;), (datetime.datetime(2005, 8, 5, 7, 30), &#39;33.54&#39;), (datetime.datetime(2005, 8, 5, 8, 0), &#39;34.98&#39;), (datetime.datetime(2005, 8, 5, 8, 30), &#39;31.65&#39;), (datetime.datetime(2005, 8, 5, 9, 0), &#39;32.49&#39;), (datetime.datetime(2005, 8, 5, 9, 30), &#39;32.78&#39;), (datetime.datetime(2005, 8, 5, 10, 0), &#39;30.58&#39;), (datetime.datetime(2005, 8, 5, 10, 30), &#39;32.8&#39;), (datetime.datetime(2005, 8, 5, 11, 0), &#39;31.83&#39;), (datetime.datetime(2005, 8, 5, 11, 30), &#39;30.71&#39;), (datetime.datetime(2005, 8, 5, 12, 0), &#39;30.82&#39;), (datetime.datetime(2005, 8, 5, 12, 30), &#39;29.72&#39;), (datetime.datetime(2005, 8, 5, 13, 0), &#39;27.05&#39;), (datetime.datetime(2005, 8, 5, 13, 30), &#39;25.5&#39;), (datetime.datetime(2005, 8, 5, 14, 0), &#39;24.69&#39;), (datetime.datetime(2005, 8, 5, 14, 30), &#39;26.03&#39;), (datetime.datetime(2005, 8, 5, 15, 0), &#39;25.55&#39;), (datetime.datetime(2005, 8, 5, 15, 30), &#39;25.96&#39;), (datetime.datetime(2005, 8, 5, 16, 0), &#39;24.72&#39;), (datetime.datetime(2005, 8, 5, 16, 30), &#39;23.36&#39;), (datetime.datetime(2005, 8, 5, 17, 0), &#39;24.21&#39;), (datetime.datetime(2005, 8, 5, 17, 30), &#39;25.61&#39;), (datetime.datetime(2005, 8, 5, 18, 0), &#39;24.73&#39;), (datetime.datetime(2005, 8, 5, 18, 30), &#39;25.73&#39;), (datetime.datetime(2005, 8, 5, 19, 0), &#39;24.76&#39;), (datetime.datetime(2005, 8, 5, 19, 30), &#39;24.96&#39;), (datetime.datetime(2005, 8, 5, 20, 0), &#39;25.69&#39;), (datetime.datetime(2005, 8, 5, 20, 30), &#39;27.34&#39;), (datetime.datetime(2005, 8, 5, 21, 0), &#39;27.14&#39;), (datetime.datetime(2005, 8, 5, 21, 30), &#39;27.7&#39;), (datetime.datetime(2005, 8, 5, 22, 0), &#39;28.88&#39;), (datetime.datetime(2005, 8, 5, 22, 30), &#39;30.44&#39;), (datetime.datetime(2005, 8, 5, 23, 0), &#39;32.14&#39;), (datetime.datetime(2005, 8, 5, 23, 30), &#39;34.02&#39;), (datetime.datetime(2005, 8, 6, 0, 0), &#39;33.61&#39;)]</span>
</pre></div>
</div>
</dd>
<dt>Example GetVariables response</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="s1">&#39;cuahsi_example_get_variables.xml&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">varis</span> <span class="o">=</span> <span class="n">wml</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">response</span>
</pre></div>
</div>
</dd>
<dt>Just a list of variables</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">codes</span> <span class="o">=</span> <span class="n">varis</span><span class="o">.</span><span class="n">variable_codes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">codes</span><span class="p">)</span>
<span class="go">[&#39;SDSC45&#39;, &#39;USU10&#39;, &#39;USU11&#39;, &#39;USU12&#39;, &#39;USU13&#39;, &#39;USU14&#39;, &#39;USU15&#39;, &#39;USU16&#39;, &#39;USU17&#39;, &#39;USU18&#39;, &#39;USU19&#39;, &#39;USU20&#39;, &#39;USU21&#39;, &#39;USU22&#39;, &#39;USU23&#39;, &#39;USU24&#39;, &#39;USU25&#39;, &#39;USU26&#39;, &#39;USU27&#39;, &#39;USU28&#39;, &#39;USU29&#39;, &#39;USU3&#39;, &#39;USU30&#39;, &#39;USU31&#39;, &#39;USU32&#39;, &#39;USU33&#39;, &#39;USU34&#39;, &#39;USU35&#39;, &#39;USU36&#39;, &#39;USU37&#39;, &#39;USU38&#39;, &#39;USU39&#39;, &#39;USU4&#39;, &#39;USU40&#39;, &#39;USU41&#39;, &#39;USU42&#39;, &#39;USU43&#39;, &#39;USU5&#39;, &#39;USU6&#39;, &#39;USU7&#39;, &#39;USU8&#39;, &#39;USU9&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">sorted</span><span class="p">(</span><span class="n">varis</span><span class="o">.</span><span class="n">variable_names</span><span class="p">)</span>
<span class="go">[&#39;Barometric pressure&#39;, &#39;Battery Voltage&#39;, &#39;Battery voltage&#39;, &#39;Discharge&#39;, &#39;Gage height&#39;, &#39;Oxygen, dissolved&#39;, &#39;Oxygen, dissolved percent of saturation&#39;, &#39;Phosphorus, total as P&#39;, &#39;Phosphorus, total as P, filtered&#39;, &#39;Precipitation&#39;, &#39;Radiation, incoming shortwave&#39;, &#39;Relative humidity&#39;, &#39;Solids, total Suspended&#39;, &#39;Specific conductance, unfiltered&#39;, &#39;Temperature&#39;, &#39;Turbidity&#39;, &#39;Wind direction&#39;, &#39;Wind speed&#39;, &#39;pH, unfiltered&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">varis</span><span class="p">[</span><span class="n">codes</span><span class="p">[</span><span class="mi">10</span><span class="p">]]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">variable_name</span>
<span class="go">&#39;Gage height&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">no_data_value</span>
<span class="go">&#39;-9999&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">properties</span>
<span class="go">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="o">.</span><span class="n">unit</span><span class="o">.</span><span class="n">name</span>
<span class="go">&#39;international foot&#39;</span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="ogc-ows-context-1-0-0-atom-cml-and-geojson-encoding-alpha-under-review">
<h2>OGC OWS Context 1.0.0 Atom CML and GeoJSON Encoding (alpha/under-review)<a class="headerlink" href="#ogc-ows-context-1-0-0-atom-cml-and-geojson-encoding-alpha-under-review" title="Permalink to this headline">¶</a></h2>
<p>The OGC OWS Context implementation in OWSlib is currently in alpha and under review, and will still be improved.
Please get in touch if you (want to) use it and provide feedback on how more comfortable it should be
(especially handling geometries and dates in different encodings) and if it doesn’t treat your “standards-compliant” OWS Context document right.
Greatly appreciated :-)</p>
<p>Basic reading/parsing of OGC Web Services Context Documents (OWS Context) in OWC Atom 1.0.0 Encoding and OWC GeoJSON 1.0.0 Encoding Standards:</p>
<p>Imports</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.owscontext.core</span> <span class="kn">import</span> <span class="n">OwcContext</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">tests.utils</span> <span class="kn">import</span> <span class="n">resource_file</span>
</pre></div>
</div>
<p>Test OWC Atom XML Read</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;owc_atom_examples&#39;</span><span class="p">,</span> <span class="s1">&#39;wms_meris.xml&#39;</span><span class="p">)),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">owc</span> <span class="o">=</span> <span class="n">OwcContext</span><span class="o">.</span><span class="n">from_atomxml</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">owc</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;Satellite Image and Countries borders Over France and England&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">owc</span><span class="o">.</span><span class="n">resources</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="o">.</span><span class="n">id</span>
<span class="go">&#39;http://geoserver.sourceforge.net/html/index.php/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="o">.</span><span class="n">title</span>
<span class="go">&#39;MER_RR__2PRLRA20120406_102429_000026213113_00238_52838_0211.N1.tif&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">off</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">offerings</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">off</span><span class="o">.</span><span class="n">offering_code</span>
<span class="go">&#39;http://www.opengis.net/spec/owc-atom/1.0/req/wms&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">op</span> <span class="o">=</span> <span class="n">off</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">op</span><span class="o">.</span><span class="n">operations_code</span>
<span class="go">&#39;GetCapabilities&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">op</span><span class="o">.</span><span class="n">request_url</span>
<span class="go">&#39;http://ows.genesi-dec.eu/geoserver/385d7d71-650a-414b-b8c7-739e2c0b5e76/wms?SERVICE=WMS&amp;VERSION=1.3.0&amp;REQUEST=GetCapabilities&#39;</span>
</pre></div>
</div>
<p>Test OWC GeoJSON Read</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">resource_file</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s1">&#39;owc_geojson_examples&#39;</span><span class="p">,</span><span class="s1">&#39;owc1.geojson&#39;</span><span class="p">)),</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">owc</span> <span class="o">=</span> <span class="n">OwcContext</span><span class="o">.</span><span class="n">from_json</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># bcause json works on pure strings, the doctest unicode results for Python 2.7 would cause errors, I add print()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">owc</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="go">WPS 52North example</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">owc</span><span class="o">.</span><span class="n">resources</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="go">http://geoprocessing.demo.52north.org:8080/wps/WebProcessingService/process1/</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
<span class="go">WPS 52 north</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">off</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">offerings</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">off</span><span class="o">.</span><span class="n">offering_code</span><span class="p">)</span>
<span class="go">http://www.opengis.net/spec/owc-geojson/1.0/req/wps</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">op</span> <span class="o">=</span> <span class="n">off</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">op</span><span class="o">.</span><span class="n">operations_code</span><span class="p">)</span>
<span class="go">GetCapabilities</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">op</span><span class="o">.</span><span class="n">request_url</span><span class="p">)</span>
<span class="go">http://geoprocessing.demo.52north.org:8080/wps/WebProcessingService?SERVICE=WPS&amp;VERSION=1.0.0&amp;REQUEST=GetCapabilities</span>
</pre></div>
</div>
<p>additionally, possibility to construct OWS Context documents from scratch, and then write/serialise into OWC Atom 1.0.0 Encoding or OWC GeoJSON 1.0.0 Encoding Standards:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">owslib.owscontext.core</span> <span class="kn">import</span> <span class="n">OwcResource</span><span class="p">,</span> <span class="n">OwcContext</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myContext</span><span class="o">=</span><span class="n">OwcContext</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;http://my.url.com/context/id/1&#39;</span><span class="p">,</span>
<span class="go">      update_date=&#39;2017-11-02T15:24:24.446+12:00&#39;,</span>
<span class="go">      title=&#39;Awesome new Context doc&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myContext</span><span class="o">.</span><span class="n">rights</span><span class="o">=</span><span class="s1">&#39;Creative Commons 4.0 BY&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myEntry</span><span class="o">=</span><span class="n">OwcResource</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;http://my.url.com/resource/demo-feature-1&#39;</span><span class="p">,</span>
<span class="go">      update_date=&#39;2017-11-02T15:24:24.446+12:00&#39;,</span>
<span class="go">      title=&#39;This is a feature&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">contributor</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Alex K&#39;</span><span class="p">,</span>
<span class="go">      &#39;email&#39;: None,</span>
<span class="go">      &#39;uri&#39;: &#39;https://allixender.blogspot.com&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myEntry</span><span class="o">.</span><span class="n">authors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">contributor</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c1"># ... here also continue to build your OGC data offerings, e.g. WMS GetMap etc.</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">myContext</span><span class="o">.</span><span class="n">resources</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">myEntry</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myContext</span><span class="o">.</span><span class="n">to_json</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myContext</span><span class="o">.</span><span class="n">to_atomxml</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Usage</a><ul>
<li><a class="reference internal" href="#wms">WMS</a></li>
<li><a class="reference internal" href="#wfs">WFS</a></li>
<li><a class="reference internal" href="#ogc-api">OGC API</a><ul>
<li><a class="reference internal" href="#ogc-api-features-1-0">OGC API - Features 1.0</a></li>
<li><a class="reference internal" href="#ogc-api-coverages-1-0">OGC API - Coverages 1.0</a></li>
<li><a class="reference internal" href="#ogc-api-records-1-0">OGC API - Records 1.0</a></li>
</ul>
</li>
<li><a class="reference internal" href="#wcs">WCS</a></li>
<li><a class="reference internal" href="#csw">CSW</a></li>
<li><a class="reference internal" href="#wmc">WMC</a></li>
<li><a class="reference internal" href="#wps">WPS</a></li>
<li><a class="reference internal" href="#sos-1-0">SOS 1.0</a></li>
<li><a class="reference internal" href="#sos-2-0">SOS 2.0</a><ul>
<li><a class="reference internal" href="#examples-of-service-metadata-and-getobservation">Examples of service metadata and GetObservation</a></li>
<li><a class="reference internal" href="#using-the-getobservation-response-decoder-for-o-m-and-waterml2-0-results">Using the GetObservation response decoder for O&amp;M and WaterML2.0 results</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sensorml">SensorML</a></li>
<li><a class="reference internal" href="#iso">ISO</a></li>
<li><a class="reference internal" href="#crs-handling">CRS Handling</a></li>
<li><a class="reference internal" href="#dublin-core">Dublin Core</a></li>
<li><a class="reference internal" href="#nasa-dif">NASA DIF</a></li>
<li><a class="reference internal" href="#fgdc">FGDC</a></li>
<li><a class="reference internal" href="#swiss-gm03">Swiss GM03</a></li>
<li><a class="reference internal" href="#wmts">WMTS</a></li>
<li><a class="reference internal" href="#waterml">WaterML</a></li>
<li><a class="reference internal" href="#ogc-ows-context-1-0-0-atom-cml-and-geojson-encoding-alpha-under-review">OGC OWS Context 1.0.0 Atom CML and GeoJSON Encoding (alpha/under-review)</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="examples.html"
                        title="next chapter">Examples</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/usage.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">OWSLib 0.26.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010, Tom Kralidis.
      Last updated on 2022-06-06T11:45:24Z.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.0.4.
    </div>
  </body>
</html>